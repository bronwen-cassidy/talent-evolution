<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/context
                           http://www.springframework.org/schema/context/spring-context.xsd
                           http://www.springframework.org/schema/mvc
                           http://www.springframework.org/schema/mvc/spring-mvc.xsd">

    <!-- todo would be nice to have web under a sub directory of views -->
    <context:component-scan base-package="com.zynap.talentstudio.web"/>

    <mvc:annotation-driven/>

    <bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="locations">
            <list>
                <value>WEB-INF/autonomy.properties</value>
            </list>
        </property>
        <property name="ignoreUnresolvablePlaceholders" value="true"/>
        <!-- SYSTEM_PROPERTIES_MODE_OVERRIDE -->
        <property name="systemPropertiesMode" value="2"/>
        <property name="ignoreResourceNotFound" value="true"/>
    </bean>

    <!--=====================================================================-->
    <!--===================      INTERNATIONALISATION CONFIG     ============-->
    <!--=====================================================================-->

    <!-- ResourceBundleMessageSource for messages used in JSPs -->
    <bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="basenames">
            <list>
                <value>/WEB-INF/classes/clientmessages</value>
                <value>/WEB-INF/classes/messages</value>
            </list>
        </property>
        <property name="cacheSeconds" value="300"/>
    </bean>

    <!-- ReloadableResourceBundleMessageSource containing paths to files that contain arena home page and menu section text -->
    <bean id="arenaTextMessageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="basename" value="/WEB-INF/classes/arenatext"/>
        <property name="cacheSeconds" value="10"/>
    </bean>


    <!--=====================================================================-->
    <!--===================  COMPONENT THAT HANDLES FILE UPLOAD   ===========-->
    <!--=====================================================================-->
    <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"/>


    <!--=====================================================================-->
    <!--===================      INTERCEPTORS     ===========================-->
    <!--=====================================================================-->

    <!-- Interceptor which makes sure a user has logged in -->
    <bean id="loginInterceptor" class="com.zynap.talentstudio.web.security.LoginInterceptor"/>

    <!-- Interceptor which checks that a user can access a resource based on their security credentials -->
    <bean id="securityInterceptor" class="com.zynap.talentstudio.web.security.SecurityInterceptor">
        <property name="roleManager" ref="roleManager"/>
        <property name="securityManager" ref="securityManager"/>
        <property name="excludedURLs">
            <description>URLs that have no security</description>
            <list>
                <value>/.*homepage.htm</value>
                <value>/.*view.*portfoliofile.htm</value>
                <value>/.*export.*subjectquestionnairepdf.htm</value>
                <value>/.*export.*pdftabularreport.htm</value>
                <value>/.*googie.*spellchecker.htm</value>
                <value>/.*image/viewsubjectimage.htm</value>
                <value>/.*image/viewpositionimage.htm</value>
                <value>/.*dashboard.htm</value>
                <value>/.*viewmybrowseportfolio.htm</value>
                <value>/.*viewmybrowseprogress.htm</value>
                <value>/.*viewmenuitemcount.htm</value>
                <value>/.*viewsyncresults.htm</value>
                <value>/.*viewimportresults.htm</value>
                <value>/.*viewexportresults.htm</value>
                <value>/.*importsubjects.htm</value>
                <value>/.*exportsubjects.htm</value>
                <value>/admin/uploadsuccess.htm</value>
                <value>/talentarena/home.htm</value>
                <value>/common/.*.htm</value>
            </list>
        </property>
        <property name="accessDeniedURL" value="/common/accessDeniedView.htm"/>
        <property name="objectNotFoundURL" value="/common/objectNotFoundErrorView.htm"/>
    </bean>

    <!-- Interceptor that checks that arena is active and disallow access if it is not -->
    <bean id="arenaInterceptor" class="com.zynap.talentstudio.web.arena.ArenaInterceptor">
        <property name="arenaMenuHandler" ref="arenaMenuHandler"/>
        <property name="excludedURLs">
            <description>
                URLs that are ignored by the interceptor - includes home and image and help text display
            </description>
            <list>
                <value>/home.htm</value>
                <value>/image/.*.htm</value>
            </list>
        </property>
        <property name="accessDeniedURL" value="/common/accessDeniedView.htm">
            <description>URL to redirect to if access is denied</description>
        </property>
    </bean>

    <bean id="questionnaireInterceptor" class="com.zynap.talentstudio.web.questionnaires.QuestionnaireInterceptor">
        <property name="questionnaireService" ref="questionnaireService"/>
        <property name="targetUrls">
            <description>
                URLs that are ignored by the interceptor which unlocks locked questionnaires - includes all edit*questionnaire urls
            </description>
            <list>
                <value>.*./editmystaffinboxquestionnaire.htm</value>
                <value>.*./editsubjectquestionnaire.htm</value>
                <value>.*./editmy.*questionnaire.htm</value>
            </list>
        </property>
    </bean>

    <!-- Interceptor used together with HistoryFilter to maintain history across requests -->
    <bean id="historyInterceptor" class="com.zynap.talentstudio.web.history.HistoryInterceptor">
        <property name="excludedURLs">
            <description>
                URLs that must not interfere with history - includes pickers, link to view / download portfolio item,
                column colour
                legend, help text display
            </description>
            <list>
                <value>/image/.*.htm</value>
                <value>/picker/.*.htm</value>
                <value>/.*portfoliofile.htm</value>
                <value>/.*pdf.htm</value>
                <!-- excluded as the following opens in a new window -->
                <value>/.*runexportcsvprogressreport.htm</value>
                <value>/.*runexportpdfprogressreport.htm</value>

                <!-- excluded because these are nested ajax calss part of an outer history maintaining scope -->
                <value>/.*browseviewsubjectportfolio.htm</value>
                <value>/.*browseviewsubjectprogress.htm</value>
                <value>/.*browseviewpositionportfolio.htm</value>
                <value>/.*viewmybrowseportfolio.htm</value>
                <value>/.*viewmybrowseprogress.htm</value>

                <value>/.*viewsyncresults.htm</value>
                <value>/.*viewimportresults.htm</value>
                <value>/.*viewexportresults.htm</value>
                <value>/.*importsubjects.htm</value>
                <value>/.*exportsubjects.htm</value>

                <value>/.*viewmenuitemcount.htm</value>
                <value>/.*viewmenuitemcount.htm</value>
                <!-- excluded as this is an ajax embeeded url and going back to it causes a loss of navigation -->
                <value>/.*viewmyhomepagedetails.htm</value>
                <value>/.*viewmyhomepagedashboard.htm</value>
                <value>/.*viewmyhomepageportfolio.htm</value>

                <!-- included because of the legend popup -->
                <value>/analysis/editstandardreport.htm</value>
            </list>
        </property>
    </bean>

    <!-- Interceptor used to maintain navigation Info -->
    <bean id="navigationInterceptor" class="com.zynap.talentstudio.web.navigation.NavigationInterceptor">
        <property name="organisationManager" ref="organisationUnitService"/>
        <property name="userService" ref="userService"/>
        <property name="urlsWithPicker">
            <list>

                <!-- use full OU tree for areas as this is an admin functionality -->
                <value>/admin/addarea.htm</value>
                <value>/admin/editarea.htm</value>

                <!-- use full OU tree for add / edit position as the picker will filter the positions based on security when an org unit is selected -->
                <value>/orgbuilder/addposition.htm</value>
                <value>/.*editposition.htm</value>

                <!-- use full OU tree for browse position / subject as the controller uses the population engine which will filter the nodes based on security -->
                <value>/.*browsesubject.htm</value>
                <value>/.*browseposition.htm</value>

                <!-- use full OU tree for search position / subject as the controller uses the population engine which will filter the nodes based on security -->
                <value>/.*listsubject.htm</value>
                <value>/.*listposition.htm</value>
                <value>/.*listquestionnaire.htm</value>

                <!-- need a picker in the reporting chart -->
                <value>/.*reportingchart.htm</value>

                <!-- use ou picker for ou objectives-->
                <value>/admin/listorgunitobjectives.htm</value>
            </list>
        </property>
    </bean>


    <!-- ========================= GENERAL DEFINITIONS START ========================= -->
    <!--
          - Locale resolution via cookie instead of evaluating the browser locale.
          - Locale changes will send a new cookie to the client.
        -->
    <bean id="localeResolver" class="org.springframework.web.servlet.i18n.CookieLocaleResolver"/>

    <!--
          - Theme resolution via cookie instead of the fixed one named "theme".
          - Theme changes will send a new cookie to the client.
        -->
    <bean id="themeResolver" class="org.springframework.web.servlet.theme.CookieThemeResolver"/>
    <!-- ========================= GENERAL DEFINITIONS END ========================= -->

    <!-- ===========================================================-->
    <!-- View resolver. Required by web framework.					-->
    <!--
          - Explicit view mappings in bundle instead of default InternalResourceViewResolver.
          - Fetches the view mappings from localized "views_xx" classpath files, i.e.
          - "/WEB-INF/classes/views.properties" or "/WEB-INF/classes/views_de.properties".
          -
          - Symbolic view names returned by controllers will be resolved in the respective
          - properties file, allowing for arbitrary mappings between names and resources.
        -->
    <!-- ===========================================================-->
    <bean id="viewResolver" class="org.springframework.web.servlet.view.ResourceBundleViewResolver">
        <property name="basename" value="ts-views"/>
        <property name="defaultParentView" value="modelView"/>
        <property name="order" value="0"/>
    </bean>

    <bean id="urlViewResolver" class="org.springframework.web.servlet.view.UrlBasedViewResolver">
        <property name="viewClass" value="org.springframework.web.servlet.view.JstlView"/>
        <property name="suffix" value=".jsp"/>
        <property name="prefix" value="WEB-INF/jsp"/>
        <property name="order" value="9999999"/>
    </bean>

    <bean id="handlerMapping" class="org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping"/>

    <!--
          - This bean resolves specific types of exception to corresponding error views.
        -->
    <bean id="exceptionResolver" class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">

        <property name="defaultErrorView" value="defaultErrorView"/>
        <property name="exceptionMappings">
            <props>
                <prop key="com.zynap.exception.DomainObjectNotFoundException">objectNotFoundErrorView</prop>
                <prop key="org.springframework.orm.ObjectRetrievalFailureException">objectNotFoundErrorView</prop>
                <prop key="org.springframework.orm.ObjectOptimisticLockingFailureException">staleDataView</prop>
                <prop key="com.zynap.talentstudio.web.common.exceptions.InvalidSubmitException">invalidSubmitView</prop>
                <prop key="com.zynap.talentstudio.web.utils.MissingRequestParameterException">invalidSubmitView</prop>
            </props>
        </property>
    </bean>

    <!-- ****************************************************************** -->
    <!--                        MAPPING DEFINITIONS                         -->
    <!-- ****************************************************************** -->

    <!--
         - This bean is an explicit URL mapper that is used by the DispatcherServlet
         - It is used for pages that are not secure.
        -->
    <bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="mappings">
            <props>
                <prop key="/login.htm">loginController</prop>
                <prop key="/forgotpassword.htm">forgotPasswordController</prop>
                <prop key="/logout.htm">logoutController</prop>
                <prop key="/changepwd.htm">changePwdController</prop>
                <prop key="/image/mydetailsimageview.htm">myDetailsImageViewController</prop>
                <prop key="/image/daimageview.htm">imageViewController</prop>
                <prop key="/**/dashboard.htm">dashboardChartController</prop>
                <prop key="/picker/positionpicker.htm">positionPickerController</prop>
                <prop key="/picker/positionandholderpicker.htm">positionHolderPickerController</prop>
                <prop key="/picker/positionparentpicker.htm">positionPrimaryAssociationPickerController</prop>
                <prop key="/picker/subjectpicker.htm">subjectPickerController</prop>
                <prop key="/picker/subjectuserpicker.htm">subjectUserPickerController</prop>
                <prop key="/picker/userpicker.htm">userPickerController</prop>

                <!-- controllers for attribute pickers -->
                <prop key="/picker/artefactviewpicker.htm">artefactPickerController</prop>
                <prop key="/picker/execartefactviewpicker.htm">execArtefactPickerController</prop>
                <prop key="/picker/metricpicker.htm">metricPickerController</prop>
                <prop key="/picker/metriccountpicker.htm">metricCountPickerController</prop>
                <prop key="/picker/populationpicker.htm">populationPickerController</prop>
                <prop key="/picker/tabularreportpicker.htm">tabularReportPickerController</prop>
                <prop key="/picker/crosstabreportpicker.htm">crosstabReportPickerController</prop>
                <prop key="/picker/chartreportpicker.htm">chartReportPickerController</prop>
                <!-- the googie spell checker-->
                <prop key="/loadpermits.htm">loadPermitsController</prop>
                <!-- callback url has to ignore login checks and security checks there are none!! -->
                <prop key="/**/editsubjectcallback.htm">subjectMultiController</prop>

            </props>
        </property>
    </bean>

    <!--
         - This bean is an explicit URL mapper that is used by the DispatcherServlet
         - It is used for error pages as these still use the NavigationInterceptor to load the menus.
        -->
    <bean id="errorUrlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="interceptors">
            <list>
                <ref local="navigationInterceptor"/>
                <ref local="questionnaireInterceptor"/>
            </list>
        </property>
        <property name="mappings">
            <props>
                <prop key="/common/defaultErrorView.htm">defaultErrorController</prop>
                <prop key="/common/objectNotFoundErrorView.htm">objectNotFoundErrorController</prop>
                <prop key="/common/accessDeniedView.htm">accessDeniedController</prop>
                <prop key="/common/staleDataView.htm">staleDataController</prop>
                <prop key="/common/invalidSubmitView.htm">invalidSubmitController</prop>
            </props>
        </property>
    </bean>

    <mvc:interceptors>
        <mvc:interceptor>
            <mvc:mapping path="/admin/*homepages.htm"/>
            <ref bean="loginInterceptor"/>
        </mvc:interceptor>
        <mvc:interceptor>
            <mvc:mapping path="/admin/*homepages.htm"/>
            <ref local="arenaInterceptor"/>
        </mvc:interceptor>
        <mvc:interceptor>
            <mvc:mapping path="/admin/*homepages.htm"/>
            <ref local="securityInterceptor"/>
        </mvc:interceptor>
        <mvc:interceptor>
            <mvc:mapping path="/admin/*homepages.htm"/>
            <ref local="historyInterceptor"/>
        </mvc:interceptor>
        <mvc:interceptor>
            <mvc:mapping path="/admin/*homepages.htm"/>
            <ref local="navigationInterceptor"/>
        </mvc:interceptor>
        <mvc:interceptor>
            <mvc:mapping path="/admin/*homepages.htm"/>
            <ref local="questionnaireInterceptor"/>
        </mvc:interceptor>
    </mvc:interceptors>
    <!--
         - A url mapper that secures access by authentication and authorization interceptors
        -->
    <bean id="urlMappingSecure" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="interceptors">
            <list>
                <ref local="loginInterceptor"/>
                <ref local="arenaInterceptor"/>
                <ref local="securityInterceptor"/>
                <ref local="historyInterceptor"/>
                <ref local="navigationInterceptor"/>
                <ref local="questionnaireInterceptor"/>
            </list>
        </property>
        <property name="mappings">
            <props>

                <!-- Mappings for arena process description page -->
                <prop key="/**/processdescription.htm">arenaProcessDescriptionController</prop>

                <!-- Mappings for arena home pages -->
                <prop key="/**/home.htm">arenaHomePageController</prop>


                <!-- Mappings for arena menu pages -->
                <prop key="/**/menu.htm">menuController</prop>
                <prop key="/**/homepage.htm">homePageController</prop>

                <!-- Admin mappings -->
                <prop key="/admin/adduser.htm">addUserFormController</prop>
                <prop key="/admin/edituser.htm">editUserController</prop>
                <prop key="/admin/listuser.htm">listUserController</prop>
                <prop key="/admin/viewuser.htm">multiUserController</prop>
                <prop key="/admin/deleteuser.htm">multiUserController</prop>

                <prop key="/admin/resetpassword.htm">resetUserPwdController</prop>

                <prop key="/admin/listsettings.htm">settingsController</prop>
                <prop key="/admin/tabsettings.htm">tabSettingsController</prop>
                <prop key="/admin/edittabsettings.htm">editTabSettingsController</prop>
                <prop key="/admin/editrules.htm">editRulesController</prop>

                <prop key="/admin/selectroletype.htm">addRoleWizardController</prop>
                <prop key="/admin/listrole.htm">multiRoleController</prop>
                <prop key="/admin/viewrole.htm">multiRoleController</prop>
                <prop key="/admin/deleterole.htm">multiRoleController</prop>
                <prop key="/admin/editrole.htm">editRoleWizardController</prop>

                <prop key="/admin/addsecuritydomain.htm">addSecurityDomainController</prop>
                <prop key="/admin/editsecuritydomain.htm">editSecurityDomainController</prop>
                <prop key="/admin/listsecuritydomain.htm">securityDomainMultiController</prop>
                <prop key="/admin/viewsecuritydomain.htm">securityDomainMultiController</prop>
                <prop key="/admin/deletesecuritydomain.htm">securityDomainMultiController</prop>

                <!-- home pages -->
                <prop key="/admin/addhomepages.htm">addHomePagesController</prop>
                <prop key="/admin/edithomepages.htm">editHomePagesController</prop>

                <!-- search -->
                <prop key="/common/wordlist.htm">searchTermController</prop>

                <!-- data upload -->
                <prop key="/admin/datauploads.htm">dataUploadController</prop>
                <prop key="/admin/uploadsuccess.htm">dataUploadMultiController</prop>

                <!-- security areas -->
                <prop key="/admin/addarea.htm">addAreaController</prop>
                <prop key="/admin/editarea.htm">editAreaController</prop>
                <prop key="/admin/listarea.htm">areaMultiController</prop>
                <prop key="/admin/viewarea.htm">areaMultiController</prop>
                <prop key="/admin/deletearea.htm">areaMultiController</prop>


                <prop key="/admin/listlookuptypes.htm">multiLookupController</prop>
                <prop key="/admin/addlookuptype.htm">addLookupTypeController</prop>
                <prop key="/admin/editlookuptype.htm">editLookupTypeController</prop>
                <prop key="/admin/listlookupvalues.htm">multiLookupController</prop>

                <prop key="/admin/deletelookupvalue.htm">multiLookupController</prop>
                <prop key="/admin/viewlookupvalue.htm">multiLookupController</prop>
                <prop key="/admin/addlookupvalue.htm">addLookupValueController</prop>
                <prop key="/admin/editlookupvalue.htm">editLookupValueController</prop>

                <prop key="/admin/listarenas.htm">arenaMultiController</prop>
                <prop key="/**/viewmenuitemcount.htm">arenaMultiController</prop>
                <prop key="/admin/editarena.htm">editArenaController</prop>

                <!-- dynamic attributes -->
                <prop key="/admin/addDA.htm">addDAController</prop>
                <prop key="/admin/toggleactiveDA.htm">dAMultiController</prop>
                <prop key="/admin/removeDAfromarena.htm">dAMultiController</prop>
                <prop key="/admin/updateDAsortorder.htm">dAMultiController</prop>
                <prop key="/admin/listsubjectDA.htm">dAMultiController</prop>
                <prop key="/admin/listpositionDAforarena.htm">dAMultiController</prop>
                <prop key="/admin/listsubjectDAforarena.htm">dAMultiController</prop>
                <prop key="/admin/listpositionDA.htm">dAMultiController</prop>
                <prop key="/admin/listorganisationDA.htm">dAMultiController</prop>
                <prop key="/admin/deleteDA.htm">deleteDAController</prop>
                <prop key="/admin/mandatoryDA.htm">dAMultiController</prop>
                <prop key="/admin/editDA.htm">editDAController</prop>
                <prop key="/admin/viewDA.htm">dAMultiController</prop>

                <!-- questionnaire definitions -->
                <prop key="/admin/addquestionnairedefinition.htm">addQuestionnaireDefinitionController</prop>
                <prop key="/admin/editquestionnairedefinition.htm">editQuestionnaireDefinitionController</prop>
                <prop key="/admin/listquestionnairedefinition.htm">questionnaireMultiController</prop>
                <prop key="/admin/viewquestionnairedefinition.htm">viewQuestionnaireDefinitionController</prop>
                <prop key="/admin/confirmdeletequestionnairedefinition.htm">deleteQuestionnaireDefinitionController</prop>

                <!-- questionnaires -->
                <prop key="/admin/listqueworkflows.htm">listQuestionnaireWorkflowController</prop>
                <prop key="/admin/addquestionnaireworkflow.htm">addQuestionnaireWorkflowController</prop>
                <prop key="/admin/addquestionnairewf.htm">addQueWorkflowController</prop>
                <prop key="/admin/editquestionnaireworkflow.htm">editQuestionnaireWorkflowController</prop>
                <prop key="/admin/editquestionnairewf.htm">editQuestionnaireWFController</prop>
                <prop key="/admin/viewquestionnaireworkflow.htm">questionnaireMultiController</prop>
                <prop key="/admin/archivequestionnaireworkflow.htm">questionnaireMultiController</prop>
                <prop key="/admin/confirmdeletequestionnaireworkflow.htm">deleteQuestionnaireWorkflowController</prop>
                <prop key="/admin/confirmclosequestionnaireworkflow.htm">closeQuestionnaireWorkflowController</prop>

                <!-- display config definitions -->
                <prop key="/admin/displayconfigsettings.htm">artefactDisplaySettingsController</prop>

                <!-- dashboard mappings -->
                <prop key="/admin/listdashboards.htm">dashboardMultiController</prop>
                <prop key="/admin/viewdashboard.htm">dashboardMultiController</prop>
                <prop key="/admin/deletedashboard.htm">dashboardMultiController</prop>
                <prop key="/admin/viewitemdashboard.htm">dashboardMultiController</prop>
                <prop key="/admin/adddashboard.htm">addDashboardController</prop>
                <prop key="/admin/addpersonaldashboard.htm">addPersonalDashboardController</prop>
                <prop key="/admin/editdashboard.htm">editDashboardController</prop>

                <!-- Home arena mappings -->
                <!-- my account -->
                <prop key="/talentarena/viewmyaccount.htm">personalAccountController</prop>
                <prop key="/talentarena/editmyaccount.htm">editPersonalAccountController</prop>
                <prop key="/talentarena/resetmypassword.htm">resetMyPasswordController</prop>

                <!-- my details -->
                <prop key="/**/viewmydetails.htm">personalDetailsController</prop>
                <prop key="/**/viewmyhomepagedetails.htm">personalHomePageDetailsController</prop>
                <prop key="/**/editmydetails.htm">editMyAttributesController</prop>
                <prop key="/**/viewmyhomepageportfolio.htm">viewMyHomePagePortfolioController</prop>
                <prop key="/**/viewmyhomepagedashboard.htm">viewMyHomePageDashboardController</prop>
                <prop key="/**/viewmyportfolio.htm">viewMyPortfolioController</prop>
                <prop key="/**/viewmydashboard.htm">viewMyDashboardController</prop>
                <!-- my team -->
                <prop key="/talentarena/viewmyteam.htm">browseMyTeamController</prop>
                <!-- my reporting chart settings -->
                <prop key="/talentarena/listchartsettings.htm">chartSettingsMultiController</prop>
                <prop key="/talentarena/viewchartsettings.htm">chartSettingsMultiController</prop>
                <prop key="/talentarena/resetchartsettings.htm">resetChartSettingsController</prop>
                <prop key="/talentarena/editchartsettings.htm">editChartSettingsController</prop>
                <prop key="/talentarena/addchartsettings.htm">addChartSettingsController</prop>
                <prop key="/talentarena/deletechartsettings.htm">deleteChartSettingsController</prop>

                <!-- my portfolio -->
                <prop key="/**/viewmybrowseportfolio.htm">browsePersonalPortfolioController</prop>
                <prop key="/**/viewmybrowseprogress.htm">browsePersonalProgressController</prop>
                <prop key="/**/viewmyportfolioitem.htm">portfolioMultiController</prop>
                <prop key="/**/addmyportfolioitem.htm">myPortfolioController</prop>
                <prop key="/**/editmyportfolioitem.htm">editMyPortfolioItemController</prop>
                <prop key="/**/deletemyportfolioitem.htm">portfolioMultiController</prop>
                <prop key="/**/myportfoliopositionsearch.htm">myPortfolioDocumentSearchController</prop>

                <!-- my questionnaire -->
                <prop key="/**/viewmyquestionnaire.htm">browseMyQuestionnaireController</prop>
                <prop key="/**/editmyquestionnaire.htm">answerMyQuestionnaireController</prop>
                <prop key="/**/editmybrowsequestionnaire.htm">browseAnswerMyQuestionnaireController</prop>
                <prop key="/talentarena/editmyinboxquestionnaire.htm">answerMyInboxQuestionnaireController</prop>

                <!-- my worklist -->
                <prop key="/talentarena/worklistquestionnaires.htm">worklistQuestionnaireController</prop>
                <prop key="/talentarena/worklistappraisals.htm">worklistAppraisalController</prop>
                <prop key="/talentarena/worklistassessments.htm">worklistObjectiveAssessmentsController</prop>
                <prop key="/talentarena/worklisteditassessment.htm">worklistEditAssessmentController</prop>

                <!-- my inbox -->
                <prop key="/talentarena/worklistmessages.htm">worklistMessageController</prop>
                <prop key="/talentarena/worklistdeletemessage.htm">messageMultiController</prop>
                <prop key="/talentarena/worklistdeletemessages.htm">messageMultiController</prop>

                <!-- corporate objectives -->
                <prop key="/admin/listcorporateobjectives.htm">listCorporateObjectives</prop>
                <prop key="/admin/viewcorporateobjectives.htm">viewCorporateObjectives</prop>
                <prop key="/admin/publishcorporateobjectives.htm">multiObjectivesController</prop>
                <prop key="/admin/deletecorporateobjectives.htm">multiObjectivesController</prop>
                <prop key="/admin/archivecorporateobjectives.htm">multiObjectivesController</prop>
                <prop key="/admin/addcorporateobjectives.htm">addCorporateObjectiveController</prop>
                <prop key="/admin/editcorporateobjectives.htm">editCorporateObjectiveController</prop>

                <!-- organisation unit objectives -->
                <prop key="/admin/listorgunitobjectives.htm">listOrganisationObjectivesController</prop>
                <prop key="/admin/addorganisationobjectives.htm">addOrganisationObjectivesController</prop>
                <prop key="/admin/editorganisationobjectives.htm">editOrganisationObjectivesController</prop>
                <prop key="/admin/vieworganisationobjectives.htm">multiObjectivesController</prop>
                <prop key="/admin/deleteorganisationobjectives.htm">multiObjectivesController</prop>
                <prop key="/admin/approveorganisationobjectives.htm">multiObjectivesController</prop>

                <!-- my objectives-->
                <prop key="/**/addmyobjectives.htm">addMyObjectivesController</prop>
                <prop key="/**/editmyobjectives.htm">editMyObjectivesController</prop>
                <prop key="/**/viewmyobjective.htm">viewMyObjectiveController</prop>
                <prop key="/**/viewmyobjectives.htm">viewMyObjectivesController</prop>

                <!-- my teams objectives worklist -->
                <prop key="/talentarena/worklistaddobjectives.htm">addObjectivesController</prop>
                <prop key="/talentarena/worklisteditobjectives.htm">editObjectivesController</prop>
                <prop key="/talentarena/worklistviewobjective.htm">viewObjectiveController</prop>
                <prop key="/talentarena/worklistviewobjectives.htm">viewObjectivesController</prop>
                <prop key="/talentarena/worklistarchiveobjectives.htm">multiObjectivesController</prop>
                <prop key="/talentarena/worklistreopenobjectives.htm">multiObjectivesController</prop>

                <!-- view reporting chart -->
                <prop key="/talentarena/reportingchart.htm">prefBasedReportingChartController</prop>

                <!-- Organisation arena mappings -->

                <!-- organisation -->
                <prop key="/orgbuilder/listorganisations.htm">organisationMultiController</prop>
                <prop key="/orgbuilder/addorganisation.htm">addOrganisationController</prop>
                <prop key="/orgbuilder/editorganisation.htm">editOrganisationController</prop>
                <prop key="/orgbuilder/deleteorganisation.htm">deleteOrganisationController</prop>
                <prop key="/orgbuilder/mergeorganisation.htm">mergeOrganisationController</prop>

                <!-- subjects -->
                <prop key="/orgbuilder/addsubject.htm">addSubjectController</prop>
                <prop key="/orgbuilder/deletesubject.htm">deleteSubjectController</prop>
                <prop key="/orgbuilder/editsubjectinactivate.htm">inactivateSubjectController</prop>
                <prop key="/orgbuilder/editsubjectactivate.htm">subjectMultiController</prop>
                <!--<prop key="/**/editsubjectcallback.htm">subjectMultiController</prop>-->
                <prop key="/**/viewsyncresults.htm">subjectMultiController</prop>
                <prop key="/**/importsubjects.htm">subjectMultiController</prop>
                <prop key="/**/exportsubjects.htm">subjectMultiController</prop>
                <prop key="/admin/listadaptors.htm">subjectMultiController</prop>

                <!-- positions -->
                <prop key="/orgbuilder/addposition.htm">addPositionController</prop>
                <prop key="/orgbuilder/deleteposition.htm">deletePositionController</prop>

                <!-- standard reporting chart -->
                <prop key="/orgbuilder/reportingchart.htm">reportChartController</prop>

                <!-- reporting charts for other arenas -->
                <prop key="/talentidentifier/reportingchart.htm">prefBasedReportingChartController</prop>
                <prop key="/analysis/reportingchart.htm">prefBasedReportingChartController</prop>
                <prop key="/succession/reportingchart.htm">prefBasedReportingChartController</prop>
                <prop key="/perfman/reportingchart.htm">prefBasedReportingChartController</prop>

                <!-- performance review mappings -->
                <prop key="/perfman/listperformancereviews.htm">performanceReviewMultiController</prop>
                <prop key="/perfman/viewcompleteperformancereview.htm">performanceReviewMultiController</prop>
                <prop key="/perfman/viewreopenperformancereview.htm">performanceReviewMultiController</prop>
                <prop key="/perfman/viewcompletenotificationreview.htm">performanceReviewMultiController</prop>
                <prop key="/perfman/addperformancereview.htm">addPerformanceReviewController</prop>
                <prop key="/perfman/viewperformancereview.htm">viewPerformanceReviewController</prop>
                <prop key="/perfman/deleteperformancereview.htm">deletePerformanceReviewController</prop>

                <!-- analyser module mappings-->

                <!-- global reporting chart settings -->
                <prop key="/analysis/listchartsettings.htm">chartSettingsMultiController</prop>
                <prop key="/analysis/viewchartsettings.htm">chartSettingsMultiController</prop>
                <prop key="/analysis/resetchartsettings.htm">resetChartSettingsController</prop>
                <prop key="/analysis/editchartsettings.htm">editChartSettingsController</prop>
                <prop key="/analysis/addchartsettings.htm">addChartSettingsController</prop>
                <prop key="/analysis/deletechartsettings.htm">deleteChartSettingsController</prop>

                <prop key="/analysis/listpopulations.htm">listPopulationController</prop>
                <prop key="/analysis/addpopulation.htm">addPopulationController</prop>
                <prop key="/analysis/editpopulation.htm">editPopulationController</prop>
                <prop key="/analysis/viewpopulation.htm">viewPopulationController</prop>
                <prop key="/analysis/deletepopulation.htm">deletePopulationController</prop>

                <!-- tabular reports -->
                <prop key="/analysis/listreports.htm">listReportsController</prop>
                <prop key="/analysis/addstandardreport.htm">addReportController</prop>
                <prop key="/analysis/editstandardreport.htm">editReportController</prop>
                <prop key="/analysis/deletereport.htm">deleteReportController</prop>
                <prop key="/analysis/runviewstandardreport.htm">runViewReportController</prop>

                <!-- chart reports -->
                <prop key="/analysis/listchartreports.htm">listChartReportsController</prop>
                <prop key="/analysis/addchartreport.htm">addChartReportController</prop>
                <prop key="/analysis/editchartreport.htm">editChartReportController</prop>
                <prop key="/analysis/deletechartreport.htm">deleteChartReportController</prop>
                <prop key="/analysis/runviewchartreport.htm">runViewChartReportController</prop>
                <prop key="/analysis/addspiderchartreport.htm">addSpiderChartReportController</prop>
                <prop key="/analysis/editspiderchartreport.htm">editSpiderChartReportController</prop>
                <prop key="/analysis/runviewspiderchartreport.htm">runViewSpiderChartReportController</prop>
                <prop key="/**/runspiderchartreport.htm">runSpiderChartReportController</prop>

                <!-- appraisal summary reports -->
                <prop key="/analysis/listappraisalreports.htm">appraisalReportMultiController</prop>
                <prop key="/analysis/viewappraisalreport.htm">appraisalReportMultiController</prop>
                <prop key="/analysis/deleteappraisalreport.htm">appraisalReportMultiController</prop>
                <prop key="/analysis/editarchiveappraisalreport.htm">appraisalReportMultiController</prop>
                <prop key="/analysis/editpublishappraisalreport.htm">appraisalReportMultiController</prop>
                <prop key="/analysis/editopenappraisalreport.htm">appraisalReportMultiController</prop>
                <prop key="/analysis/addappraisalreport.htm">addAppraisalReportController</prop>
                <prop key="/analysis/editappraisalreport.htm">editAppraisalReportController</prop>

                <!-- cross tab reports -->
                <prop key="/analysis/listcrosstabreports.htm">listCrossTabReportsController</prop>
                <prop key="/analysis/addcrosstabreport.htm">addCrossTabReportController</prop>
                <prop key="/analysis/editcrosstabreport.htm">editCrossTabReportController</prop>
                <prop key="/analysis/deletecrosstabreport.htm">deleteCrossTabReportController</prop>
                <prop key="/analysis/runviewcrosstabreport.htm">runViewCrossTabController</prop>

                <!-- progress reports -->
                <prop key="/analysis/listprogressreports.htm">progressReportMultiController</prop>
                <prop key="/analysis/addprogressreport.htm">addProgressReportController</prop>
                <prop key="/analysis/editprogressreport.htm">editProgressReportController</prop>
                <prop key="/analysis/deleteprogressreport.htm">deleteProgressReportController</prop>
                <prop key="/analysis/runviewprogressreport.htm">progressReportMultiController</prop>

                <!-- metric reports -->
                <prop key="/analysis/listmetricreports.htm">listMetricReportsController</prop>
                <prop key="/analysis/addmetricreport.htm">addMetricReportController</prop>
                <prop key="/analysis/editmetricreport.htm">editMetricReportController</prop>
                <prop key="/analysis/deletemetricreport.htm">deleteMetricReportController</prop>
                <prop key="/analysis/runviewmetricreport.htm">runViewMetricController</prop>

                <!-- metric views -->
                <prop key="/analysis/addmetric.htm">addMetricController</prop>
                <prop key="/analysis/editmetric.htm">editMetricController</prop>
                <prop key="/analysis/viewmetric.htm">metricMultiController</prop>
                <prop key="/analysis/listmetrics.htm">metricMultiController</prop>
                <prop key="/analysis/deletemetric.htm">deleteMetricController</prop>

                <!-- common org unit mappings -->
                <prop key="/**/vieworganisation.htm">organisationMultiController</prop>

                <!-- common subject and position mappings -->

                <prop key="/**/viewsubject.htm">viewSubjectController</prop>
                <prop key="/**/listsubject.htm">searchSubjectController</prop>
                <prop key="/**/listquestionnaire.htm">searchQuestionnaireController</prop>

                <prop key="/**/browsesubject.htm">browseSubjectController</prop>
                <prop key="/**/browseviewsubjectportfolio.htm">browseSubjectPortfolioController</prop>
                <prop key="/**/browseviewsubjectprogress.htm">browseSubjectProgressController</prop>

                <prop key="/**/editsubject.htm">editSubjectAttributesController</prop>
                <prop key="/**/editsubjectassociations.htm">editSubjectAssociationsController</prop>

                <prop key="/**/viewposition.htm">viewPositionController</prop>
                <prop key="/**/listposition.htm">searchPositionController</prop>
                <prop key="/**/browseposition.htm">browsePositionController</prop>
                <prop key="/**/browseviewpositionportfolio.htm">browsePositionPortfolioController</prop>

                <prop key="/**/editposition.htm">editPositionAttributesController</prop>
                <prop key="/**/editpositionassociations.htm">editPositionAssociationsController</prop>

                <!-- common mapping for questionnaires -->
                <prop key="/**/viewsubjectquestionnaire.htm">viewQuestionnaireController</prop>
                <prop key="/**/browseviewsubjectquestionnaire.htm">browseQuestionnaireController</prop>
                <prop key="/**/exportmyexecsubjectquestionnairepdf.htm">viewMyExecSummaryQuestionnairePdfController</prop>
                <prop key="/**/exportexecsubjectquestionnairepdf.htm">viewExecSummaryQuestionnairePdfController</prop>
                <prop key="/orgbuilder/exportallsubjectquestionnaires.htm">exportAllSubjectQuestionnairesController</prop>
                <prop key="/**/editsubjectquestionnaire.htm">answerQuestionnaireController</prop>
                <prop key="/**/browseeditsubjectquestionnaire.htm">browseAnswerQuestionnaireController</prop>
                <prop key="/**/editmystaffinboxquestionnaire.htm">answerInboxQuestionnaireController</prop>

                <!-- subject users -->
                <prop key="/**/editsubjectadduser.htm">addSubjectUserController</prop>
                <prop key="/**/editsubjectedituser.htm">editSubjectUserController</prop>
                <prop key="/**/editsubjectresetpassword.htm">resetSubjectUserPwdController</prop>
                <prop key="/**/editsubjectdeleteuser.htm">multiUserController</prop>

                <!-- common portfolio mappings -->
                <prop key="/**/viewsubjectportfoliofile.htm">portfolioFileViewController</prop>
                <prop key="/**/viewsubjectportfolioitem.htm">portfolioMultiController</prop>

                <prop key="/**/editsubjectaddportfolioitem.htm">subjectPortfolioController</prop>
                <prop key="/**/editsubjectportfolioitem.htm">editSubjectPortfolioItemController</prop>
                <prop key="/**/editsubjectdeleteportfolioitem.htm">portfolioMultiController</prop>

                <prop key="/**/viewpositionportfoliofile.htm">portfolioFileViewController</prop>
                <prop key="/**/viewpositionportfolioitem.htm">portfolioMultiController</prop>

                <prop key="/**/editpositionaddportfolioitem.htm">positionPortfolioController</prop>
                <prop key="/**/editpositionportfolioitem.htm">editPortfolioItemController</prop>
                <prop key="/**/editpositiondeleteportfolioitem.htm">portfolioMultiController</prop>

                <!-- common objective mappings -->
                <prop key="/**/viewsubjectobjective.htm">viewSubjectObjectiveController</prop>
                <prop key="/**/viewsubjectobjectives.htm">viewSubjectObjectivesController</prop>

                <!-- common image mappings -->
                <prop key="/image/viewsubjectimage.htm">imageViewController</prop>
                <prop key="/image/viewpositionimage.htm">imageViewController</prop>

                <!-- document search -->
                <prop key="/**/documentsearch.htm">documentSearchController</prop>
                <prop key="/**/subjectdocumentsearch.htm">subjectDocumentSearchController</prop>
                <prop key="/**/positiondocumentsearch.htm">positionDocumentSearchController</prop>

                <!-- common report mappings - allows reports to be run and exported as CSV from any arena -->
                <prop key="/**/runviewarchivedreport.htm">viewArchivedReportsController</prop>
                <prop key="/**/runtabularreport.htm">runTabularController</prop>
                <prop key="/**/runcrosstabreport.htm">runCrossTabController</prop>
                <prop key="/**/runmetricreport.htm">runMetricController</prop>
                <prop key="/**/runchartreport.htm">runChartReportController</prop>
                <prop key="/**/runexporttabularreport.htm">exportTabularReportController</prop>
                <prop key="/**/runexportpdftabularreport.htm">reportPdfExportController</prop>
                <prop key="/**/runexportpdfprogressreport.htm">progressReportPdfExportController</prop>
                <prop key="/**/runexportcsvprogressreport.htm">progressReportCsvExportController</prop>


            </props>
        </property>
    </bean>

    <!-- this bean contains the view and the parameters required to load the add menu section -->
    <bean id="addMenuViewConfig" class="com.zynap.talentstudio.web.utils.controller.ViewConfig">
        <property name="view" value="menu.htm"/>
        <property name="additionalParameters">
            <map>
                <!-- key is value of ParameterConstants.MENU_PARAM -->
                <entry key="menu_p" value="CREATE"/>
            </map>
        </property>
    </bean>

    <!-- ****************************************************************** -->
    <!--                        VALIDATORS                                  -->
    <!-- ****************************************************************** -->

    <!-- =========== Access Validators =========== -->
    <bean id="loginValidator" class="com.zynap.talentstudio.web.validation.LoginValidator"/>
    <bean id="changePwdValidator" class="com.zynap.talentstudio.web.validation.ChangePwdValidator"/>
    <bean id="forgotPasswordValidator" class="com.zynap.talentstudio.web.validation.ForgotPasswordlValidator"/>
    <!-- =========== Admin Validators ============= -->
    <bean id="userValidator" class="com.zynap.talentstudio.web.validation.admin.UserValidator"/>
    <bean id="roleValidator" class="com.zynap.talentstudio.web.validation.admin.RoleValidator"/>

    <bean id="daValidator" class="com.zynap.talentstudio.web.organisation.attributes.DynamicAttributeValidator">
        <property name="factory" ref="dynamicAttributeValidationFactory"/>
    </bean>

    <bean id="lookupValidator" class="com.zynap.talentstudio.web.validation.admin.LookUpTypeValidator"/>
    <bean id="lookupValueValidator" class="com.zynap.talentstudio.web.validation.admin.LookUpValueValidator"/>

    <bean id="dashboardBuilderValidator" class="com.zynap.talentstudio.web.dashboard.DashboardBuilderValidator"/>

    <!-- =========== homepage Validators ============= -->
    <bean id="homePagesValidator" class="com.zynap.talentstudio.web.security.homepages.HomePagesValidator"/>

    <!-- =========== Performance Review Validators ============= -->
    <bean id="performanceReviewValidator" class="com.zynap.talentstudio.web.perfomance.PerformanceReviewValidator"/>

    <!-- =========== Security config Validators ============= -->
    <bean id="securityDomainValidator" class="com.zynap.talentstudio.web.security.domain.SecurityDomainValidator"/>
    <bean id="areaValidator" class="com.zynap.talentstudio.web.security.area.AreaValidator"/>
    <bean id="arenaValidator" class="com.zynap.talentstudio.web.arena.ArenaValidator"/>
    <bean id="configRulesValidator" class="com.zynap.talentstudio.web.security.rules.ConfigRuleValidator"/>

    <!-- =========== Worklist Validators ============= -->
    <bean id="worklistValidator" class="com.zynap.talentstudio.web.workflow.WorklistValidator">
        <property name="factory" ref="attributeValueValidationFactory"/>
    </bean>

    <!-- =========== Objectives Validators ============= -->
    <bean id="objectiveSetValidator" class="com.zynap.talentstudio.web.objectives.ObjectiveSetValidator"/>
    <bean id="objectiveValidator" class="com.zynap.talentstudio.web.objectives.ObjectiveValidator">
        <property name="factory" ref="attributeValueValidationFactory"/>
    </bean>

    <!-- =========== Questionnaire Validators ============= -->
    <bean id="questionnaireValidator" class="com.zynap.talentstudio.web.questionnaires.QuestionnaireWorkflowValidator"/>
    <bean id="questionnaireDefinitionValidator" class="com.zynap.talentstudio.web.questionnaires.definition.QuestionnaireDefinitionValidator"/>

    <!-- =========== Portfolio Validators ============= -->
    <bean id="portfolioItemValidator" class="com.zynap.talentstudio.web.portfolio.PortfolioItemValidator"/>

    <!-- =========== Document Search Validators ============= -->
    <bean id="associationValidator" class="com.zynap.talentstudio.web.portfolio.SubjectPositionAssociationValidator"/>
    <bean id="documentSearchValidator" class="com.zynap.talentstudio.web.portfolio.DocumentSearchValidator"/>

    <!-- =========== Org Unit Validators ============= -->
    <bean id="ouValidator" class="com.zynap.talentstudio.web.organisation.organisationunit.OrganisationUnitValidator">
        <property name="factory" ref="attributeValueValidationFactory"/>
    </bean>

    <!-- =========== Subject Validators ============= -->
    <bean id="subjectValidator" class="com.zynap.talentstudio.web.organisation.subjects.SubjectValidator" parent="ouValidator"/>

    <bean id="subjectUserValidator" class="com.zynap.talentstudio.web.organisation.subjects.SubjectUserValidator"/>

    <!-- =========== Position Validators ============= -->
    <bean id="positionValidator" class="com.zynap.talentstudio.web.organisation.positions.PositionValidator" parent="ouValidator"/>

    <!-- =========== Analysis Validators =========== -->
    <bean id="populationValidator" class="com.zynap.talentstudio.web.analysis.populations.PopulationValidator">
        <property name="factory" ref="attributeValueValidationFactory"/>
    </bean>
    <bean id="reportValidator" class="com.zynap.talentstudio.web.analysis.reports.ReportValidator"/>
    <bean id="appraisalReportValidator" class="com.zynap.talentstudio.web.analysis.reports.AppraisalReportValidator"/>
    <bean id="metricValidator" class="com.zynap.talentstudio.web.analysis.metrics.MetricValidator"/>
    <bean id="displaySettingsValidator" class="com.zynap.talentstudio.web.display.DisplaySettingsValidator">
        <property name="positionMandatoryAttributes">
            <list>
                <value>title</value>
                <value>organisationUnit.label</value>
            </list>
        </property>
        <property name="subjectMandatoryAttributes">
            <list>
                <value>coreDetail.firstName</value>
                <value>coreDetail.secondName</value>
            </list>
        </property>
    </bean>


    <!-- ****************************************************************** -->
    <!--                        CONTROLLERS                                 -->
    <!-- ****************************************************************** -->

    <!-- =========== Error Controllers =========== -->
    <bean name="accessDeniedController" class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName" value="accessDeniedView"/>
    </bean>

    <bean name="defaultErrorController" class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName" value="defaultErrorView"/>
    </bean>

    <bean name="objectNotFoundErrorController"
          class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName" value="objectNotFoundErrorView"/>
    </bean>

    <bean name="staleDataController" class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName" value="staleDataView"/>
    </bean>

    <bean name="invalidSubmitController" class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName" value="invalidSubmitView"/>
    </bean>

    <!-- =========== Common Controllers =========== -->

    <!-- Controller for process description page -->
    <bean name="arenaProcessDescriptionController" class="org.springframework.web.servlet.mvc.ParameterizableViewController">
        <property name="viewName" value="processdescription"/>
    </bean>

    <!-- Controller for arena home pages -->
    <bean id="arenaHomePageController" class="com.zynap.talentstudio.web.arena.HomePageController"/>

    <bean id="homePageController" class="com.zynap.talentstudio.web.HomePageViewController"/>

    <!-- Controller for arena menu pages -->
    <bean id="menuController" class="com.zynap.talentstudio.web.arena.MenuController"/>

    <!-- logout controller -->
    <bean id="logoutController" class="com.zynap.talentstudio.web.controller.LogoutController"/>

    <!-- login controller -->
    <bean id="loginController" class="com.zynap.talentstudio.web.security.LoginController" scope="request">
        <property name="sessionForm" value="false"/>
        <property name="multiTenantSystem" value="true"/>
        <property name="commandClass" value="com.zynap.domain.admin.LoginInfo"/>
        <property name="validator" ref="loginValidator"/>
        <property name="formView" value="login"/>
        <property name="userService" ref="userService"/>
        <property name="menuHandler" ref="arenaMenuHandler"/>
    </bean>
    <bean id="forgotPasswordController" class="com.zynap.talentstudio.web.security.ForgotPasswordController" scope="request">
        <property name="sessionForm" value="false"/>
        <property name="commandClass" value="com.zynap.domain.admin.LoginInfo"/>
        <property name="validator" ref="forgotPasswordValidator"/>
        <property name="formView" value="forgotPassword"/>
        <property name="successView" value="login.htm"/>
        <property name="userService" ref="userService"/>
        <property name="passwordReminderMailNotification" ref="passwordReminderMailNotification"/>
    </bean>
    <!-- change password controller -->
    <bean id="changePwdController" class="com.zynap.talentstudio.web.security.ChangePwdController" scope="request">
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.domain.admin.UserPassword"/>
        <property name="validator" ref="changePwdValidator"/>
        <property name="formView" value="changepwd"/>
        <property name="cancelView" value="login.htm"/>
        <property name="multiTenantSystem" value="${multi.tenant}"/>
        <property name="userService" ref="userService"/>
        <property name="menuHandler" ref="arenaMenuHandler"/>
    </bean>

    <!-- aload permits controller -->
    <bean id="loadPermitsController" class="com.zynap.talentstudio.web.security.policy.LoadPermitsController">
        <property name="userService" ref="userService"/>
    </bean>

    <!-- =========== Admin Controllers =========== -->

    <!-- Users -->
    <bean id="addUserFormController" class="com.zynap.talentstudio.web.security.admin.AddUserFormController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="adduser"/>
        <property name="successView" value="viewuser.htm"/>
        <property name="cancelView" value="listuser.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.security.admin.UserWrapperBean"/>
        <property name="validator" ref="userValidator"/>
        <property name="userService" ref="userService"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="roleManager" ref="roleManager"/>
        <property name="groupService" ref="groupService"/>
    </bean>

    <bean id="editUserController" class="com.zynap.talentstudio.web.controller.admin.EditUserFormController" parent="addUserFormController">
        <property name="formView" value="edituser"/>
        <property name="cancelView" value="viewuser.htm"/>
    </bean>

    <bean id="resetUserPwdController" class="com.zynap.talentstudio.web.controller.admin.AdminResetPasswordFormController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="resetuserpassword"/>
        <property name="successView" value="viewuser.htm"/>
        <property name="cancelView" value="viewuser.htm"/>
        <property name="commandClass" value="com.zynap.domain.admin.UserPassword"/>
        <property name="userService" ref="userService"/>
    </bean>

    <bean id="listUserController" class="com.zynap.talentstudio.web.controller.admin.ListUserController">
        <property name="sessionForm" value="false"/>
        <property name="formView" value="listuser"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.security.admin.UserSearchQueryWrapper"/>
        <property name="userService" ref="userService"/>
        <property name="groupService" ref="groupService"/>
    </bean>

    <bean id="multiUserController" class="com.zynap.talentstudio.web.controller.admin.UserMultiController">
        <property name="methodNameResolver">
            <bean id="userMultiMethodNameResolver"
                  class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/admin/viewuser.htm">viewUserDetailsHandler</prop>
                        <prop key="/admin/deleteuser.htm">deleteUserHandler</prop>
                        <prop key="/**/editsubjectdeleteuser.htm">deleteSubjectUserHandler</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="userService" ref="userService"/>
    </bean>

    <!-- Roles -->
    <bean id="addRoleWizardController" class="com.zynap.talentstudio.web.security.roles.AddRoleWizardFormController">
        <property name="pages">
            <list>
                <value>selectroletype</value>
                <value>addrole</value>
                <value>addpermissions</value>
            </list>
        </property>
        <property name="roleManager" ref="roleManager"/>
        <property name="validator" ref="roleValidator"/>
    </bean>

    <bean id="editRoleWizardController" class="com.zynap.talentstudio.web.security.roles.EditRoleWizardFormController">
        <property name="pages">
            <list>
                <value>editrole</value>
                <value>editpermissions</value>
            </list>
        </property>
        <property name="roleManager" ref="roleManager"/>
        <property name="validator" ref="roleValidator"/>
        <property name="cancelView" value="viewrole.htm"/>
    </bean>

    <bean id="roleMultiMethodNameResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
        <property name="mappings">
            <props>
                <prop key="/admin/viewrole.htm">viewRoleInfoHandler</prop>
                <prop key="/admin/listrole.htm">listRolesHandler</prop>
                <prop key="/admin/deleterole.htm">deleteRoleHandler</prop>
            </props>
        </property>
    </bean>

    <bean id="multiRoleController" class="com.zynap.talentstudio.web.security.roles.RoleMultiController">
        <property name="methodNameResolver" ref="roleMultiMethodNameResolver"/>
        <property name="roleManager" ref="roleManager"/>
        <property name="userService" ref="userService"/>
    </bean>

    <!-- Security domain controllers -->
    <bean id="securityDomainMultiController" class="com.zynap.talentstudio.web.security.domain.DomainMultiController">
        <property name="methodNameResolver">
            <bean id="securityDomainMethodResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/admin/viewsecuritydomain.htm">viewDomainHandler</prop>
                        <prop key="/admin/listsecuritydomain.htm">listDomainHandler</prop>
                        <prop key="/admin/deletesecuritydomain.htm">deleteDomainHandler</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="securityManager" ref="securityManager"/>
    </bean>

    <bean id="addSecurityDomainController" class="com.zynap.talentstudio.web.security.domain.AddDomainController">
        <property name="pages">
            <list>
                <value>addsecuritydomain</value>
                <value>addrolestodomain</value>
                <value>adduserstodomain</value>
                <value>addareatodomain</value>
            </list>
        </property>
        <property name="sessionForm" value="true"/>
        <property name="allowDirtyBack" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.security.domain.SecurityDomainWrapperBean"/>
        <property name="securityManager" ref="securityManager"/>
        <property name="roleManager" ref="roleManager"/>
        <property name="userService" ref="userService"/>
        <property name="validator" ref="securityDomainValidator"/>
        <property name="cancelView" value="listsecuritydomain.htm"/>
        <property name="successView" value="viewsecuritydomain.htm"/>
    </bean>

    <bean id="editSecurityDomainController" class="com.zynap.talentstudio.web.security.domain.EditDomainController" parent="addSecurityDomainController">
        <property name="pages">
            <list>
                <value>editsecuritydomain</value>
                <value>editrolesindomain</value>
                <value>editusersindomain</value>
                <value>editareaindomain</value>
            </list>
        </property>
        <property name="cancelView" value="viewsecuritydomain.htm"/>
        <property name="successView" value="viewsecuritydomain.htm"/>
    </bean>

    <!-- Home pages controllers -->
    <!--<bean id="homePagesMultiController" class="com.zynap.talentstudio.web.security.homepages.HomePagesMultiController">-->
    <!--<property name="methodNameResolver">-->
    <!--<bean id="homePagesMethodResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">-->
    <!--<property name="mappings">-->
    <!--<props>-->
    <!--<prop key="/admin/viewhomepages.htm">viewHomePages</prop>-->
    <!--<prop key="/admin/listhomepages.htm">listHomePages</prop>-->
    <!--<prop key="/admin/deletehomepages.htm">deleteHomePages</prop>-->
    <!--</props>-->
    <!--</property>-->
    <!--</bean>-->
    <!--</property>-->
    <!--<property name="groupService" ref="groupService"/>-->
    <!--<property name="arenaManager" ref="arenaManager"/>-->
    <!--</bean>-->

    <bean id="addHomePagesController" class="com.zynap.talentstudio.web.security.homepages.AddHomePagesController">
        <property name="pages">
            <list>
                <value>addhomepages</value>
                <value>addhomepages</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.security.homepages.HomePagesFormBean"/>
        <property name="cancelView" value="listhomepages.htm"/>
        <property name="successView" value="viewhomepages.htm"/>
        <property name="validator" ref="homePagesValidator"/>
        <property name="groupService" ref="groupService"/>
        <property name="arenaManager" ref="arenaManager"/>
        <property name="internalUrls">
            <list>
                <value>viewmyhomepagedashboard.htm</value>
                <value>viewmyhomepageportfolio.htm</value>
                <value>viewmyhomepagedetails.htm</value>
            </list>
        </property>
    </bean>

    <bean id="dataUploadController" class="com.zynap.talentstudio.web.data.DataUploadController">
        <property name="formView" value="datauploads"/>
        <property name="successView" value="uploadsuccess.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.data.FileUploadBean"/>
        <property name="mailSender" ref="mailSender"/>
        <property name="simpleMailMessage" ref="simpleMailMessage"/>
    </bean>

    <bean id="dataUploadMultiController" class="com.zynap.talentstudio.web.data.DataUploadMultiController">
        <property name="methodNameResolver">
            <bean id="uploadMethodResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/admin/uploadsuccess.htm">uploadSuccessHandler</prop>
                    </props>
                </property>
            </bean>
        </property>
    </bean>

    <bean id="editHomePagesController" class="com.zynap.talentstudio.web.security.homepages.EditHomePagesController" parent="addHomePagesController">
        <property name="pages">
            <list>
                <value>edithomepages</value>
                <value>edithomepages</value>
            </list>
        </property>
    </bean>

    <bean id="searchTermController" class="com.zynap.talentstudio.web.search.SearchController">
        <property name="methodNameResolver">
            <bean id="searchTermMethodResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/common/wordlist.htm">findAvailableKeyWords</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="searchTermService" ref="searchTermService"/>
    </bean>

    <!-- Area controllers -->
    <bean id="areaMultiController" class="com.zynap.talentstudio.web.security.area.AreaMultiController">
        <property name="methodNameResolver">
            <bean id="areaMethodResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/admin/viewarea.htm">viewAreaHandler</prop>
                        <prop key="/admin/listarea.htm">listAreaHandler</prop>
                        <prop key="/admin/deletearea.htm">deleteAreaHandler</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="securityManager" ref="securityManager"/>
        <property name="analysisService" ref="analysisService"/>
    </bean>

    <bean id="addAreaController" class="com.zynap.talentstudio.web.security.area.AddAreaController">
        <property name="pages">
            <list>
                <value>addarea</value>
                <value>addoustoarea</value>
                <value>addpositionstoarea</value>
                <value>addsubjectstoarea</value>
            </list>
        </property>
        <property name="sessionForm" value="true"/>
        <property name="allowDirtyBack" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.security.area.AreaWrapperBean"/>
        <property name="securityManager" ref="securityManager"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="positionService" ref="positionService"/>
        <property name="organisationManager" ref="organisationUnitService"/>
        <property name="analysisService" ref="analysisService"/>
        <property name="populationEngine" ref="populationEngine"/>
        <property name="validator" ref="areaValidator"/>
        <property name="cancelView" value="listarea.htm"/>
        <property name="successView" value="viewarea.htm"/>
    </bean>

    <bean id="editAreaController" class="com.zynap.talentstudio.web.security.area.EditAreaController" parent="addAreaController">
        <property name="pages">
            <list>
                <value>editarea</value>
                <value>editousinarea</value>
                <value>editpositionsinarea</value>
                <value>editsubjectsinarea</value>
            </list>
        </property>
        <property name="cancelView" value="viewarea.htm"/>
        <property name="successView" value="viewarea.htm"/>
    </bean>

    <!-- Templates -->
    <bean id="editRulesController" class="com.zynap.talentstudio.web.security.rules.EditConfigRulesController">
        <property name="sessionForm" value="false"/>
        <property name="validator" ref="configRulesValidator"/>
        <property name="formView" value="editrules"/>
        <property name="successView" value="listsettings.htm"/>
        <property name="cancelView" value="listsettings.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.security.rules.ConfigRuleWrapper"/>
        <property name="configRuleService" ref="configRuleService"/>
    </bean>

    <bean id="settingsController" class="com.zynap.talentstudio.web.security.rules.ListConfigsController">
        <property name="configRuleService" ref="configRuleService"/>
        <property name="pageView" value="listsettings"/>
    </bean>

    <bean id="tabSettingsController" class="com.zynap.talentstudio.web.display.TabListConfigsController">
        <property name="arenaManager" ref="arenaManager"/>
        <property name="displayConfigService" ref="displayConfigService"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.display.TabSettingWrapper"/>
        <property name="commandName" value="command"/>
        <property name="formView" value="tablistsettings"/>
    </bean>

    <bean id="editTabSettingsController" parent="tabSettingsController" class="com.zynap.talentstudio.web.display.EditTabConfigsController">
        <property name="formView" value="edittabsettings"/>
        <property name="successView" value="tabsettings.htm"/>
    </bean>

    <bean id="addQuestionnaireDefinitionController" class="com.zynap.talentstudio.web.questionnaires.definition.AddQuestionnaireDefinitionController" scope="request">
        <property name="sessionForm" value="false"/>
        <property name="formView" value="addquestionnairedefinition"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.questionnaires.definition.QuestionnaireDefinitionWrapper"/>
        <property name="successView" value="viewquestionnairedefinition.htm"/>
        <property name="cancelView" value="listquestionnairedefinition.htm"/>
        <property name="questionnaireService" ref="questionnaireService"/>
        <property name="questionnaireDefinitionService" ref="questionnaireDefinitionService"/>
        <property name="questionnaireWorkflowService" ref="queWorkflowService"/>
    </bean>

    <bean id="questionnaireHelper" class="com.zynap.talentstudio.web.questionnaires.QuestionnaireHelper">
        <property name="questionnaireService" ref="questionnaireService"/>
        <property name="questionnaireDefinitionService" ref="questionnaireDefinitionService"/>
        <property name="questionnaireWorkflowService" ref="queWorkflowService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
    </bean>

    <bean id="questionnairePdfMakerHelper" class="com.zynap.talentstudio.web.questionnaires.QuestionnairePdfMakerHelper" scope="prototype">
        <!-- populate later if objects required-->
    </bean>

    <bean id="editQuestionnaireDefinitionController" class="com.zynap.talentstudio.web.questionnaires.definition.EditQuestionnaireDefinitionController" parent="addQuestionnaireDefinitionController">
        <property name="sessionForm" value="true"/>
        <property name="validator" ref="questionnaireDefinitionValidator"/>
        <property name="formView" value="editquestionnairedefinition"/>
        <property name="cancelView" value="viewquestionnairedefinition.htm"/>
        <property name="questionnaireHelper" ref="questionnaireHelper"/>
    </bean>

    <bean id="deleteQuestionnaireDefinitionController" class="com.zynap.talentstudio.web.questionnaires.definition.DeleteQuestionnaireDefinitionController" parent="addQuestionnaireDefinitionController">
        <property name="formView" value="confirmdeletequestionnairedefinition"/>
        <property name="cancelView" value="viewquestionnairedefinition.htm"/>
        <property name="successView" value="listquestionnairedefinition.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.questionnaires.QuestionnaireDefinition"/>
    </bean>

    <bean id="listQuestionnaireWorkflowController" class="com.zynap.talentstudio.web.questionnaires.ListQuestionnaireWorkflowsController">
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.questionnaires.QuestionnaireWorkflowListWrapper"/>
        <property name="formView" value="listqueworkflows"/>
        <property name="questionnaireWorkflowService" ref="queWorkflowService"/>
    </bean>
    <bean id="editQuestionnaireWorkflowController" class="com.zynap.talentstudio.web.questionnaires.EditQuestionnaireWorkflowController" scope="session">
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.questionnaires.QuestionnaireWorkflowWrapperBean"/>
        <property name="validator" ref="questionnaireValidator"/>
        <property name="formView" value="editquestionnaireworkflow"/>
        <property name="successView" value="viewquestionnaireworkflow.htm"/>
        <property name="cancelView" value="viewquestionnaireworkflow.htm"/>
        <property name="groupService" ref="groupService"/>
        <property name="questionnaireWorkflowService" ref="queWorkflowService"/>
    </bean>
    <bean id="addQuestionnaireWorkflowController" class="com.zynap.talentstudio.web.questionnaires.AddQuestionnaireWorkflowController" parent="addQuestionnaireDefinitionController">
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.questionnaires.QuestionnaireWorkflowWrapperBean"/>
        <property name="validator" ref="questionnaireValidator"/>
        <property name="formView" value="addquestionnaireworkflow"/>
        <property name="successView" value="viewquestionnaireworkflow.htm"/>
        <property name="cancelView" value="viewquestionnairedefinition.htm"/>
        <property name="analysisService" ref="analysisService"/>
        <property name="groupService" ref="groupService"/>
        <!-- mail notification differs depending on whether we are sending a notification for an infoform or a questionnaire -->
        <property name="mailNotifications">
            <map>
                <entry key="QUESTIONNAIRE">
                    <bean class="com.zynap.talentstudio.web.common.UrlBeanPair">
                        <constructor-arg index="0" type="java.lang.String" value="/talentarena/worklistquestionnaires.htm"/>
                        <constructor-arg index="1" ref="questionnaireMailNotification"/>
                    </bean>
                </entry>
                <entry key="INFOFORM">
                    <bean class="com.zynap.talentstudio.web.common.UrlBeanPair">
                        <constructor-arg index="0" type="java.lang.String" value="/talentarena/viewmydetails.htm"/>
                        <constructor-arg index="1" ref="infoFormMailNotification"/>
                    </bean>
                </entry>
            </map>
        </property>
    </bean>

    <bean id="addQueWorkflowController" parent="addQuestionnaireWorkflowController">
        <property name="formView" value="addquestionnairewf"/>
        <property name="successView" value="viewquestionnaireworkflow.htm"/>
        <property name="cancelView" value="listqueworkflows.htm"/>
    </bean>

    <bean id="editQuestionnaireWFController" parent="editQuestionnaireWorkflowController" scope="session">
        <property name="formView" value="editquestionnairewf"/>
        <property name="successView" value="viewquestionnaireworkflow.htm"/>
        <property name="cancelView" value="listqueworkflows.htm"/>
    </bean>

    <bean id="deleteQuestionnaireWorkflowController" class="com.zynap.talentstudio.web.questionnaires.DeleteQuestionnaireWorkflowController">
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.questionnaires.QuestionnaireWorkflow"/>
        <property name="formView" value="confirmdeletequestionnaireworkflow"/>
        <property name="cancelView" value="viewquestionnaireworkflow.htm"/>
        <property name="successView" value="viewquestionnairedefinition.htm"/>
        <property name="questionnaireService" ref="questionnaireService"/>
        <property name="questionnaireWorkflowService" ref="queWorkflowService"/>
        <property name="reportService" ref="reportService"/>
    </bean>

    <bean id="closeQuestionnaireWorkflowController" class="com.zynap.talentstudio.web.questionnaires.CloseQuestionnaireWorkflowController">
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.questionnaires.QuestionnaireWorkflow"/>
        <property name="formView" value="confirmclosequestionnaireworkflow"/>
        <property name="cancelView" value="viewquestionnaireworkflow.htm"/>
        <property name="successView" value="viewquestionnaireworkflow.htm"/>
        <property name="questionnaireService" ref="questionnaireService"/>
        <property name="questionnaireWorkflowService" ref="queWorkflowService"/>
    </bean>

    <bean id="questionnaireMultiController" class="com.zynap.talentstudio.web.questionnaires.QuestionnaireMultiController">
        <property name="methodNameResolver">
            <bean id="questionnaireMethodResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/admin/listquestionnairedefinition.htm">listQuestionnaireDefinitions</prop>
                        <prop key="/admin/viewquestionnaireworkflow.htm">viewQuestionnaireWorkflow</prop>
                        <prop key="/admin/archivequestionnaireworkflow.htm">archiveQuestionnaireWorkflow</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="questionnaireWorkflowService" ref="queWorkflowService"/>
        <property name="questionnaireDefinitionService" ref="questionnaireDefinitionService"/>
    </bean>

    <bean id="viewQuestionnaireDefinitionController" class="com.zynap.talentstudio.web.questionnaires.definition.ViewQuestionnaireDefinitionController">
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.questionnaires.definition.QuestionnaireDefinitionWrapper"/>
        <property name="formView" value="viewquestionnairedefinition"/>
        <property name="cancelView" value="/admin/listquestionnairedefinition.htm"/>
        <property name="validator" ref="questionnaireDefinitionValidator"/>
        <property name="questionnaireDefinitionService" ref="questionnaireDefinitionService"/>
        <property name="questionnaireHelper" ref="questionnaireHelper"/>
    </bean>

    <bean id="viewQuestionnaireController" class="com.zynap.talentstudio.web.questionnaires.ViewQuestionnaireController" scope="session">
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.questionnaires.QuestionnaireWrapper"/>
        <property name="formView" value="viewquestionnaire"/>
        <property name="imageURL" value="/image/viewsubjectimage.htm"/>
        <property name="editURL" value="editsubjectquestionnaire.htm"/>
        <property name="questionnaireHelper" ref="questionnaireHelper"/>
    </bean>

    <bean id="browseQuestionnaireController" class="com.zynap.talentstudio.web.questionnaires.BrowseQuestionnaireController" scope="session">
        <property name="pages">
            <list>
                <value>browseviewsubjectquestionnaire</value>
                <value>browseviewsubjectquestionnaire</value>
                <value>browseviewsubjectquestionnaire</value>
                <value>browseviewsubjectquestionnaire</value>
                <value>browseviewsubjectquestionnaire</value>
                <value>browseviewsubjectquestionnaire</value>
            </list>
        </property>
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.questionnaires.BrowseQuestionnaireWrapper"/>
        <property name="imageURL" value="/image/viewsubjectimage.htm"/>
        <property name="editURL" value="browseeditsubjectquestionnaire.htm"/>
        <property name="questionnaireHelper" ref="questionnaireHelper"/>
        <property name="questionnaireService" ref="questionnaireService"/>
    </bean>

    <bean id="browseMyQuestionnaireController" class="com.zynap.talentstudio.web.questionnaires.BrowseMyQuestionnaireController" parent="browseQuestionnaireController" scope="session">
        <property name="pages">
            <list>
                <value>viewmyquestionnaire</value>
                <value>viewmyquestionnaire</value>
                <value>viewmyquestionnaire</value>
                <value>viewmyquestionnaire</value>
                <value>viewmyquestionnaire</value>
                <value>viewmyquestionnaire</value>
            </list>
        </property>
        <property name="imageURL" value="/image/mydetailsimageview.htm"/>
        <property name="editURL" value="editmybrowsequestionnaire.htm"/>
    </bean>

    <bean id="viewQuestionnairePdfController" class="com.zynap.talentstudio.web.questionnaires.QuestionnairePdfViewer">
        <property name="questionnaireHelper" ref="questionnaireHelper"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="questionnairePdfMakerHelper" ref="questionnairePdfMakerHelper"/>
        <property name="messageSource" ref="messageSource"/>
        <property name="displayConfigService" ref="displayConfigService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="positionService" ref="positionService"/>
        <property name="populationEngine" ref="populationEngine"/>
    </bean>

    <bean id="viewMyExecSummaryQuestionnairePdfController" parent="viewQuestionnairePdfController">
        <property name="mySummary" value="true"/>
    </bean>

    <bean id="viewExecSummaryQuestionnairePdfController" parent="viewQuestionnairePdfController">
        <property name="mySummary" value="false"/>
    </bean>
    <bean id="exportAllSubjectQuestionnairesController" class="com.zynap.talentstudio.web.questionnaires.QuestionnairePdfExporter">
        <property name="questionnaireHelper" ref="questionnaireHelper"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="questionnairePdfMakerHelper" ref="questionnairePdfMakerHelper"/>
        <property name="messageSource" ref="messageSource"/>
        <property name="displayConfigService" ref="displayConfigService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="positionService" ref="positionService"/>
        <property name="populationEngine" ref="populationEngine"/>
    </bean>

    <!--########################## DISPLAY CONFIGURATION CONTROLLERS ##########################-->
    <bean id="artefactDisplaySettingsController" class="com.zynap.talentstudio.web.display.ArtefactDisplaySettingsController">
        <property name="pages">
            <list>
                <value>displayconfigsettings</value>
                <value>displayconfigsettings</value>
                <value>displayconfigsettings</value>
                <value>displayconfigsettings</value>
                <value>displayconfigsettings</value>
                <value>displayconfigsettings</value>
                <value>displayconfigsettings</value>
                <value>displayconfigsettings</value>
                <value>displayconfigsettings</value>
                <value>displayconfigsettings</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.display.DisplayConfigWrapper"/>
        <property name="validator" ref="displaySettingsValidator"/>
        <property name="displayConfigService" ref="displayConfigService"/>
        <property name="builder" ref="artefactViewColumnBuilder"/>
        <property name="execSummaryBuilder" ref="execArtefactViewColumnBuilder"/>
        <property name="roleManager" ref="roleManager"/>
        <property name="groupService" ref="groupService"/>
    </bean>

    <!--################################# SUBJECT CONTROLLERS #################################-->
    <bean id="dashboardBuilder" class="com.zynap.talentstudio.web.organisation.SubjectDashboardBuilder">
        <property name="chartReportFiller" ref="chartReportFiller"/>
        <property name="tabularReportFiller" ref="tabularReportFiller"/>
        <property name="progressReportFiller" ref="progressReportFiller"/>
        <property name="spiderChartReportFiller" ref="spiderChartReportFiller"/>
    </bean>

    <bean id="browseSubjectPortfolioController" class="com.zynap.talentstudio.web.organisation.subjects.BrowseSubjectPortfolio">
        <property name="commandName" value="artefact"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.subjects.SubjectWrapperBean"/>
        <property name="pages">
            <list>
                <value>browseviewsubjectportfolio</value>
                <value>browseviewsubjectportfolio</value>
                <value>browseviewsubjectportfolio</value>
            </list>
        </property>
        <property name="questionnaireService" ref="questionnaireService"/>
        <property name="subjectService" ref="subjectService"/>
    </bean>

    <bean id="browseSubjectProgressController" class="com.zynap.talentstudio.web.organisation.subjects.BrowseSubjectProgressReports">
        <property name="commandName" value="artefact"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.subjects.SubjectWrapperBean"/>
        <property name="pages">
            <list>
                <value>browseviewsubjectprogress</value>
                <value>browseviewsubjectprogress</value>
                <value>browseviewsubjectprogress</value>
            </list>
        </property>
        <property name="subjectService" ref="subjectService"/>
        <property name="reportService" ref="reportService"/>
        <property name="populationEngine" ref="populationEngine"/>
        <property name="progressReportFiller" ref="progressReportFiller"/>
        <property name="personal" value="false"/>
    </bean>

    <bean id="browsePersonalProgressController" parent="browseSubjectProgressController">
        <property name="pages">
            <list>
                <value>viewmybrowseprogress</value>
                <value>viewmybrowseprogress</value>
                <value>viewmybrowseprogress</value>
            </list>
        </property>
        <property name="personal" value="true"/>
    </bean>

    <bean id="browsePersonalPortfolioController" class="com.zynap.talentstudio.web.organisation.subjects.BrowsePersonalPortfolio" parent="browseSubjectPortfolioController">
        <property name="pages">
            <list>
                <value>viewmybrowseportfolio</value>
                <value>viewmybrowseportfolio</value>
                <value>viewmybrowseportfolio</value>
            </list>
        </property>
    </bean>

    <bean id="browseSubjectController" class="com.zynap.talentstudio.web.organisation.BrowseSubjectController" parent="browsePositionController" scope="request">
        <property name="pages">
            <list>
                <value>browsesubject</value>
                <value>browsesubject</value>
                <value>browsesubject</value>
                <value>searchsubject</value>
                <value>searchsubject</value>
                <value>searchsubject</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.SubjectBrowseNodeWrapper"/>
        <property name="questionnaireService" ref="questionnaireService"/>
        <property name="objectiveService" ref="objectiveService"/>
        <property name="dashboardService" ref="dashboardService"/>
        <property name="dashboardBuilder" ref="dashboardBuilder"/>
        <property name="queWorkflowService" ref="queWorkflowService"/>
        <property name="appraisalReportBuilder" ref="appraisalReportBuilder"/>
    </bean>

    <bean id="viewSubjectController" class="com.zynap.talentstudio.web.organisation.subjects.ViewSubjectController" parent="browseSubjectController" scope="session">
        <property name="pages">
            <list>
                <value>viewsubject</value>
                <value>viewsubject</value>
                <value>viewsubject</value>
                <value>viewsubject</value>
                <value>viewsubject</value>
                <value>viewsubject</value>
            </list>
        </property>
    </bean>

    <bean id="searchSubjectController" parent="browseSubjectController" scope="request">
        <property name="initialPage" value="3"/>
        <property name="includeQuestionnaire" value="false"/>
    </bean>

    <bean id="searchQuestionnaireController" parent="searchSubjectController" scope="request">
        <property name="includeQuestionnaire" value="true"/>
    </bean>

    <bean id="deleteSubjectController" class="com.zynap.talentstudio.web.organisation.subjects.DeleteSubjectController" scope="session">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="deletesubject"/>
        <property name="viewPageURL" value="viewsubject.htm"/>
        <!-- Default success view is only used when a newly added position is deleted -->
        <property name="defaultSuccessViewConfig" ref="addMenuViewConfig"/>
        <property name="commandClass" value="com.zynap.talentstudio.organisation.subjects.Subject"/>
        <property name="subjectService" ref="subjectService"/>
    </bean>

    <bean id="inactivateSubjectController" class="com.zynap.talentstudio.web.organisation.subjects.InactivateSubjectController" scope="session">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="editsubjectinactivate"/>
        <property name="commandClass" value="com.zynap.talentstudio.organisation.subjects.Subject"/>
        <property name="subjectService" ref="subjectService"/>
    </bean>

    <bean id="subjectMultiController" class="com.zynap.talentstudio.web.organisation.subjects.SubjectMultiController">
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/orgbuilder/editsubjectactivate.htm">activateSubject</prop>
                        <prop key="/**/editsubjectcallback.htm">updateSubjectCallback</prop>
                        <prop key="/**/viewsyncresults.htm">synchroniseSubjects</prop>
                        <prop key="/**/importsubjects.htm">importSubjects</prop>
                        <prop key="/**/exportsubjects.htm">exportSubjects</prop>
                        <prop key="/admin/listadaptors.htm">viewThirdPartyAdaptors</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="subjectService" ref="subjectService"/>
        <property name="analysisService" ref="analysisService"/>
        <property name="adapter" ref="taapiAdapter"/>
    </bean>

    <bean id="editSubjectAttributesController" class="com.zynap.talentstudio.web.organisation.subjects.EditSubjectAttributesController" scope="session">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="editsubjectattributes"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.subjects.SubjectWrapperBean"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="positionService" ref="positionService"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="displayConfigService" ref="displayConfigService"/>
        <property name="validator" ref="subjectValidator"/>
        <property name="personalView" value="false"/>
    </bean>

    <bean id="editMyAttributesController" parent="editSubjectAttributesController" scope="session">
        <property name="personalView" value="true"/>
    </bean>

    <bean id="editSubjectAssociationsController" class="com.zynap.talentstudio.web.organisation.subjects.EditSubjectAssociationsController" scope="session">
        <property name="pages">
            <list>
                <value>editsubjectassociations</value>
                <value>editsubjectassociations</value>
                <value>editsubjectassociations</value>
                <value>editsubjectassociations</value>
                <value>editsubjectassociations</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.subjects.SubjectWrapperBean"/>
        <property name="securityManager" ref="securityManager"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="displayConfigService" ref="displayConfigService"/>
        <property name="validator" ref="subjectValidator"/>
    </bean>

    <bean id="addSubjectController" class="com.zynap.talentstudio.web.organisation.subjects.AddSubjectWizardFormController">
        <property name="pages">
            <list>
                <value>addsubject</value>
                <value>addsubjectassociation</value>
            </list>
        </property>
        <property name="sessionForm" value="true"/>
        <property name="allowDirtyBack" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.subjects.SubjectWrapperBean"/>
        <property name="validator" ref="subjectValidator"/>
        <property name="cancelViewConfig" ref="addMenuViewConfig"/>
        <property name="successView" value="viewsubject.htm"/>
        <property name="securityManager" ref="securityManager"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="attributeService" ref="dynamicAttrService"/>
        <property name="displayConfigService" ref="displayConfigService"/>
    </bean>

    <!-- ##################################### ORGANISATION CONTROLLERS ####################################-->
    <bean id="editOrganisationController" class="com.zynap.talentstudio.web.organisation.organisationunit.EditOrganisationController">
        <property name="sessionForm" value="false"/>
        <property name="formView" value="editorganisation"/>
        <property name="cancelView" value="vieworganisation.htm"/>
        <property name="successView" value="vieworganisation.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.OrganisationUnitWrapperBean"/>
        <property name="validator" ref="ouValidator"/>
        <property name="organisationManager" ref="organisationUnitService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
    </bean>

    <bean id="addOrganisationController" class="com.zynap.talentstudio.web.organisation.organisationunit.AddOrganisationController" parent="editOrganisationController">
        <property name="formView" value="addorganisation"/>
        <property name="cancelViewConfig" ref="addMenuViewConfig"/>
    </bean>

    <bean id="deleteOrganisationController" class="com.zynap.talentstudio.web.organisation.organisationunit.DisableOrganisationController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="deleteorganisation"/>
        <property name="successView" value="listorganisationsRedirect"/>
        <property name="cancelView" value="vieworganisation.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.organisation.OrganisationUnit"/>
        <property name="organisationManager" ref="organisationUnitService"/>
    </bean>

    <bean id="mergeOrganisationController" class="com.zynap.talentstudio.web.organisation.organisationunit.MergeOrganisationController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="mergeorganisation"/>
        <property name="successView" value="listorganisationsRedirect"/>
        <property name="validator" ref="ouValidator"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.MergeOrgUnitWrapperBean"/>
        <property name="organisationManager" ref="organisationUnitService"/>
    </bean>

    <bean id="organisationMultiController" class="com.zynap.talentstudio.web.organisation.organisationunit.OrganisationMultiController">
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/**/vieworganisation.htm">viewOrganisationHandler</prop>
                        <prop key="/orgbuilder/listorganisations.htm">listOrganisationHandler</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="organisationManager" ref="organisationUnitService"/>
        <property name="positionService" ref="positionService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="includeButtonArenas">
            <list>
                <!-- Indicates that only orgbuilder arena view will include edit / delete buttons -->
                <value>orgbuilder</value>
            </list>
        </property>
    </bean>

    <!-- ##################################### REPORTING CHART SETTINGS CONTROLLERS ##################################### -->

    <bean id="chartSettingsMultiController" class="com.zynap.talentstudio.web.reportingchart.settings.ChartSettingsMultiController">
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/analysis/listchartsettings.htm">listSystemChartSettingsHandler</prop>
                        <prop key="/talentarena/listchartsettings.htm">listUserChartSettingsHandler</prop>

                        <prop key="/analysis/viewchartsettings.htm">viewChartSettingsHandler</prop>
                        <prop key="/talentarena/viewchartsettings.htm">viewChartSettingsHandler</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="preferencesManager" ref="prefManager"/>
    </bean>


    <bean id="addChartSettingsController" class="com.zynap.talentstudio.web.reportingchart.settings.AddChartSettingsController">
        <property name="pages">
            <list>
                <value>addpublishsettingsform</value>
                <value>addchartsettingsform</value>
                <value>addchartcolorsettingsform</value>
            </list>
        </property>
        <property name="sessionForm" value="true"/>
        <property name="successView" value="viewchartsettings.htm"/>
        <property name="cancelView" value="listchartsettings.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.reportingchart.settings.SettingsWrapperFormBean"/>
        <property name="preferencesManager" ref="prefManager"/>
        <property name="groupService" ref="groupService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="reportService" ref="reportService"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="menuItemURL" value="reportingchart.htm">
            <description>URL that menu items will use</description>
        </property>
    </bean>

    <bean id="editChartSettingsController" parent="addChartSettingsController" class="com.zynap.talentstudio.web.reportingchart.settings.ChartSettingsFormController">
        <property name="pages">
            <list>
                <value>editpublishsettingsform</value>
                <value>editchartsettingsform</value>
                <value>editchartcolorsettingsform</value>
            </list>
        </property>
        <property name="cancelView" value="viewchartsettings.htm"/>
    </bean>

    <bean id="deleteChartSettingsController" class="com.zynap.talentstudio.web.reportingchart.settings.DeleteChartSettingsController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="confirmdeletechartsettings"/>
        <property name="successView" value="listchartsettings.htm"/>
        <property name="cancelView" value="viewchartsettings.htm"/>
        <property name="preferencesManager" ref="prefManager"/>
    </bean>

    <bean id="resetChartSettingsController" class="com.zynap.talentstudio.web.reportingchart.settings.ResetChartSettingsController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="confirmresetchartsettings"/>
        <property name="successView" value="viewchartsettings.htm"/>
        <property name="cancelView" value="viewchartsettings.htm"/>
        <property name="preferencesManager" ref="prefManager"/>
    </bean>

    <!-- ##################################### POSITION CONTROLLERS ########################################-->
    <bean id="addPositionController" class="com.zynap.talentstudio.web.organisation.positions.AddPositionWizardFormController">
        <property name="pages">
            <list>
                <value>addposition</value>
                <value>addpositionassociation</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.positions.PositionWrapperBean"/>
        <property name="successView" value="viewposition.htm"/>
        <property name="positionService" ref="positionService"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="validator" ref="positionValidator"/>
        <property name="cancelViewConfig" ref="addMenuViewConfig"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="displayConfigService" ref="displayConfigService"/>
    </bean>

    <bean id="editPositionAssociationsController" class="com.zynap.talentstudio.web.organisation.positions.EditPositionAssociationsController" scope="session">
        <property name="pages">
            <list>
                <value>editpositionassociations</value>
                <value>editpositionassociations</value>
                <value>editpositionassociations</value>
                <value>editpositionassociations</value>
                <value>editpositionassociations</value>
                <value>editpositionassociations</value>
                <value>editpositionassociations</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.positions.PositionWrapperBean"/>
        <property name="positionService" ref="positionService"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="displayConfigService" ref="displayConfigService"/>
        <property name="validator" ref="positionValidator"/>
    </bean>

    <bean id="editPositionAttributesController" class="com.zynap.talentstudio.web.organisation.positions.EditPositionAttributesController" scope="session">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="editpositionattributes"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.positions.PositionWrapperBean"/>
        <property name="positionService" ref="positionService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="displayConfigService" ref="displayConfigService"/>
        <property name="validator" ref="positionValidator"/>
    </bean>

    <bean id="browsePositionPortfolioController" class="com.zynap.talentstudio.web.organisation.positions.BrowsePositionPortfolio">
        <property name="commandName" value="artefact"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.positions.PositionWrapperBean"/>
        <property name="pages">
            <list>
                <value>browseviewpositionportfolio</value>
                <value>browseviewpositionportfolio</value>
                <value>browseviewpositionportfolio</value>
            </list>
        </property>
        <property name="positionService" ref="positionService"/>
    </bean>

    <bean id="browsePositionController" class="com.zynap.talentstudio.web.organisation.BrowsePositionController" scope="request">
        <property name="pages">
            <list>
                <value>browseposition</value>
                <value>browseposition</value>
                <value>browseposition</value>
                <value>searchposition</value>
                <value>searchposition</value>
                <value>searchposition</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.PositionBrowseNodeWrapper"/>
        <property name="portfolioService" ref="portfolioService"/>
        <property name="positionService" ref="positionService"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="populationEngine" ref="populationEngine"/>
        <property name="displayConfigService" ref="displayConfigService"/>
        <!-- Indicates which arenas allow deletion of position -->
        <property name="allowDeleteArenas">
            <list>
                <value>orgbuilder</value>
            </list>
        </property>
        <property name="analysisService" ref="analysisService"/>
    </bean>

    <bean id="searchPositionController" parent="browsePositionController" scope="request">
        <property name="initialPage" value="3"/>
    </bean>

    <bean id="deletePositionController" class="com.zynap.talentstudio.web.organisation.positions.DeletePositionController" scope="session">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="deleteposition"/>
        <property name="viewPageURL" value="viewposition.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.organisation.positions.Position"/>
        <!-- Default success view is only used when a newly added position is deleted -->
        <property name="defaultSuccessViewConfig" ref="addMenuViewConfig"/>
        <property name="positionService" ref="positionService"/>
    </bean>

    <bean id="viewPositionController" class="com.zynap.talentstudio.web.organisation.positions.ViewPositionController" parent="browsePositionController" scope="session">
        <property name="pages">
            <list>
                <value>viewposition</value>
                <value>viewposition</value>
                <value>viewposition</value>
                <value>viewposition</value>
                <value>viewposition</value>
                <value>viewposition</value>
            </list>
        </property>
    </bean>

    <bean id="imageViewController" class="com.zynap.talentstudio.web.organisation.attributes.ImageFileViewController">
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="subjectService" ref="subjectService"/>
    </bean>

    <bean id="dashboardChartController" class="com.zynap.talentstudio.web.dashboard.MetricChartDashboardController">
        <property name="reportService" ref="reportService"/>
        <property name="reportRunner" ref="metricReportRunner"/>
    </bean>

    <bean id="myDetailsImageViewController" parent="imageViewController">
        <property name="myDetails" value="true"/>
    </bean>


    <!--################################# REPORTING CHART CONTROLLERS #################################-->
    <bean id="reportChartController" class="com.zynap.talentstudio.web.reportingchart.ReportChartController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="reportingchart"/>
        <property name="positionService" ref="positionService"/>
        <property name="subjectService" ref="subjectService"/>
    </bean>

    <bean id="prefBasedReportingChartController" class="com.zynap.talentstudio.web.reportingchart.PreferenceBasedReportChartController" parent="reportChartController">
        <property name="formView" value="prefbasedreportingchart"/>
        <property name="preferencesManager" ref="prefManager"/>
    </bean>

    <!--################################# DYNAMIC ATTRIBUTES ADMIN CONTROLLERS #################################-->
    <bean id="addDAController" class="com.zynap.talentstudio.web.organisation.attributes.AddDynamicAttributeController">
        <property name="pages">
            <list>
                <value>selectDAtype</value>
                <value>addDA</value>
            </list>
        </property>
        <property name="allowDirtyBack" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.attributes.DynamicAttributeWrapper"/>
        <property name="successView" value="viewDA.htm"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="validator" ref="daValidator"/>
    </bean>

    <bean id="editDAController" class="com.zynap.talentstudio.web.organisation.attributes.EditDynamicAttributeController">
        <property name="formView" value="editDA"/>
        <property name="successView" value="viewDA.htm"/>
        <property name="cancelView" value="viewDA.htm"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="validator" ref="daValidator"/>
    </bean>

    <bean id="deleteDAController" class="com.zynap.talentstudio.web.organisation.attributes.DeleteDynamicAttributeController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="confirmdeleteDA"/>
        <property name="cancelView" value="viewDA.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.organisation.attributes.DynamicAttribute"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
    </bean>

    <bean id="dAMultiController" class="com.zynap.talentstudio.web.organisation.attributes.DAMultiController">
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/admin/listsubjectDA.htm">listSubjectAttributeHandler</prop>
                        <prop key="/admin/listpositionDA.htm">listPositionAttributeHandler</prop>
                        <prop key="/admin/listorganisationDA.htm">listOrganisationAttributeHandler</prop>
                        <prop key="/admin/viewDA.htm">viewAttributeHandler</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="lookupManager" ref="lookupManager"/>
    </bean>

    <!--################################### LOOKUPS ##################################-->
    <!-- Lookup controllers -->
    <bean id="lookupMultiMethodNameResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
        <property name="mappings">
            <props>
                <prop key="/admin/listlookuptypes.htm">listLookupTypesHandler</prop>
                <prop key="/admin/listlookupvalues.htm">viewLookupTypeHandler</prop>
                <prop key="/admin/viewlookupvalue.htm">viewLookupValueHandler</prop>
                <prop key="/admin/deletelookupvalue.htm">deleteLookupValueHandler</prop>
            </props>
        </property>
    </bean>

    <bean id="multiLookupController" class="com.zynap.talentstudio.web.controller.admin.LookupMultiController">
        <property name="methodNameResolver" ref="lookupMultiMethodNameResolver"/>
        <property name="lookupManager" ref="lookupManager"/>
    </bean>

    <bean id="addLookupTypeController" class="com.zynap.talentstudio.web.controller.admin.AddLookupTypeController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="addlookuptype"/>
        <property name="successView" value="listlookupvalues.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.common.lookups.LookupType"/>
        <property name="cancelView" value="/admin/listlookuptypes.htm"/>
        <property name="validator" ref="lookupValidator"/>
        <property name="lookupManager" ref="lookupManager"/>
    </bean>

    <bean id="editLookupTypeController" class="com.zynap.talentstudio.web.controller.admin.EditLookupTypeController" parent="addLookupTypeController">
        <property name="formView" value="editlookuptype"/>
    </bean>

    <bean id="addLookupValueController" class="com.zynap.talentstudio.web.controller.admin.AddLookupValueController">
        <property name="sessionForm" value="false"/>
        <property name="formView" value="addlookupvalue"/>
        <property name="successView" value="listlookupvalues.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.common.lookups.LookupValue"/>
        <property name="validator" ref="lookupValueValidator"/>
        <property name="lookupManager" ref="lookupManager"/>
    </bean>

    <bean id="editLookupValueController" class="com.zynap.talentstudio.web.controller.admin.EditLookupValueController" parent="addLookupValueController">
        <property name="bindOnNewForm" value="true"/>
        <property name="formView" value="editlookupvalue"/>
        <property name="successView" value="viewlookupvalue.htm"/>
    </bean>

    <!-- System Configuration Controllers -->
    <bean id="arenaMultiController" class="com.zynap.talentstudio.web.arena.ArenaMultiController">
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/admin/listarenas.htm">listAllArenas</prop>
                        <prop key="/**/viewmenuitemcount.htm">findMenuItemCount</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="arenaManager" ref="arenaManager"/>
    </bean>

    <bean id="editArenaController" class="com.zynap.talentstudio.web.arena.EditArenaController">
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.arena.ArenaWrapperBean"/>
        <property name="formView" value="editarena"/>
        <property name="successView" value="listarenas.htm"/>
        <property name="cancelView" value="listarenas.htm"/>
        <property name="validator" ref="arenaValidator"/>
        <property name="arenaManager" ref="arenaManager"/>
        <property name="displayConfigService" ref="displayConfigService"/>
    </bean>

    <!-- ############################################ PORTFOLIOS #######################################-->

    <bean id="subjectPortfolioController" class="com.zynap.talentstudio.web.portfolio.AddSubjectPortfolioItemController">

        <property name="commandClass" value="com.zynap.talentstudio.web.portfolio.PortfolioItemWrapper"/>
        <property name="myPortfolio" value="false"/>
        <property name="portfolioService" ref="portfolioService"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="validator" ref="portfolioItemValidator"/>
        <property name="formView" value="addportfolioitemform"/>
        <property name="sessionForm" value="true"/>

    </bean>

    <bean id="myPortfolioController" class="com.zynap.talentstudio.web.portfolio.AddSubjectPortfolioItemController" parent="subjectPortfolioController">
        <property name="successView" value="viewmydetails.htm"/>
        <property name="cancelView" value="viewmydetails.htm"/>
        <property name="myPortfolio" value="true"/>
    </bean>

    <bean id="positionPortfolioController" class="com.zynap.talentstudio.web.portfolio.AddPositionPortfolioItemController">

        <property name="commandClass" value="com.zynap.talentstudio.web.portfolio.PortfolioItemWrapper"/>
        <property name="myPortfolio" value="false"/>
        <property name="portfolioService" ref="portfolioService"/>
        <property name="positionService" ref="positionService"/>
        <property name="validator" ref="portfolioItemValidator"/>
        <property name="formView" value="addportfolioitemform"/>
        <property name="sessionForm" value="true"/>
    </bean>

    <bean id="portfolioFileViewController" class="com.zynap.talentstudio.web.portfolio.PortfolioFileViewController">
        <property name="portfolioService" ref="portfolioService"/>
    </bean>

    <bean id="portfolioMultiMethodNameResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
        <property name="mappings">
            <props>
                <!-- use wildcard mappings -->
                <prop key="/**/viewpositionportfolioitem.htm">viewPositionPortfolioItemHandler</prop>
                <prop key="/**/editpositiondeleteportfolioitem.htm">deletePositionPortfolioItemHandler</prop>

                <prop key="/**/viewsubjectportfolioitem.htm">viewSubjectPortfolioItemHandler</prop>
                <prop key="/**/editsubjectdeleteportfolioitem.htm">deleteSubjectPortfolioItemHandler</prop>

                <!-- my portfolio urls -->
                <prop key="/talentarena/viewmyportfolioitem.htm">viewMyPortfolioItemHandler</prop>
                <prop key="/talentarena/deletemyportfolioitem.htm">deleteMyPortfolioItemHandler</prop>
            </props>
        </property>
    </bean>

    <bean id="portfolioMultiController" class="com.zynap.talentstudio.web.portfolio.PortfolioMultiController">
        <property name="methodNameResolver" ref="portfolioMultiMethodNameResolver"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="positionService" ref="positionService"/>
        <property name="portfolioService" ref="portfolioService"/>
    </bean>

    <bean id="editPortfolioItemController" class="com.zynap.talentstudio.web.portfolio.EditPortfolioItemController">
        <property name="sessionForm" value="false"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.portfolio.PortfolioItemWrapper"/>
        <property name="formView" value="editportfolioitem"/>
        <property name="successView" value="viewpositionportfolioitem.htm"/>
        <property name="cancelView" value="viewpositionportfolioitem.htm"/>
        <property name="myPortfolio" value="true"/>
        <property name="portfolioService" ref="portfolioService"/>
        <property name="validator" ref="portfolioItemValidator"/>
    </bean>

    <bean id="editSubjectPortfolioItemController" class="com.zynap.talentstudio.web.portfolio.EditPortfolioItemController" parent="editPortfolioItemController">
        <property name="successView" value="viewsubjectportfolioitem.htm"/>
        <property name="cancelView" value="viewsubjectportfolioitem.htm"/>
        <property name="myPortfolio" value="false"/>
    </bean>

    <bean id="editMyPortfolioItemController" class="com.zynap.talentstudio.web.portfolio.EditPortfolioItemController" parent="editSubjectPortfolioItemController">
        <property name="successView" value="viewmyportfolioitem.htm"/>
        <property name="cancelView" value="viewmyportfolioitem.htm"/>
        <property name="myPortfolio" value="true"/>
    </bean>

    <!-- ############################################ PORTFOLIO SEARCH CONTROLLERS #######################################-->
    <bean id="documentSearchController" class="com.zynap.talentstudio.web.portfolio.DocumentSearchController" scope="session">
        <property name="pages">
            <list>
                <value>documentsearch</value>
                <value>documentsearch</value>
                <value>documentsearch</value>
                <value>documentsearch</value>
                <value>documentsearch</value>
                <value>documentsearch</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.portfolio.DocumentSearchWrapper"/>
        <property name="dataSources">
            <map>
                <!-- keys must match node types - see Node.POSITION_UNIT_TYPE_ and Node.SUBJECT_UNIT_TYPE_ -->
                <entry key="P+S" value="${autonomy.subject.database}+${autonomy.position.database}"/>
                <entry key="P" value="${autonomy.position.database}"/>
                <entry key="S" value="${autonomy.subject.database}"/>
            </map>
        </property>
        <property name="portfolioService" ref="portfolioService"/>
        <property name="searchManager" ref="searchManager"/>
        <property name="validator" ref="documentSearchValidator"/>
        <property name="positionService" ref="positionService"/>
        <property name="subjectService" ref="subjectService"/>
    </bean>

    <bean id="subjectDocumentSearchController" class="com.zynap.talentstudio.web.portfolio.SubjectDocumentSearchController" parent="documentSearchController" scope="session">
        <property name="pages">
            <list>
                <value>subjectdocumentsearch</value>
                <value>subjectdocumentsearch</value>
                <value>subjectdocumentsearch</value>
                <value>subjectdocumentsearch</value>
                <value>subjectdocumentsearch</value>
                <value>subjectdocumentsearch</value>
            </list>
        </property>
    </bean>

    <bean id="positionDocumentSearchController" class="com.zynap.talentstudio.web.portfolio.PositionDocumentSearchController" parent="documentSearchController" scope="session">
        <property name="pages">
            <list>
                <value>positiondocumentsearch</value>
                <value>positiondocumentsearch</value>
                <value>positiondocumentsearch</value>
                <value>positiondocumentsearch</value>
                <value>positiondocumentsearch</value>
                <value>positiondocumentsearch</value>
            </list>
        </property>
    </bean>

    <bean id="myPortfolioDocumentSearchController" class="com.zynap.talentstudio.web.portfolio.MyPositionDocumentSearchWizardController" parent="positionDocumentSearchController"/>

    <!--################################### POPULATIONS ##################################-->

    <bean id="listPopulationController" class="com.zynap.talentstudio.web.analysis.populations.ListPopulationController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="listpopulations"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.populations.ListPopulationWrapperBean"/>
        <property name="analysisService" ref="analysisService"/>
    </bean>

    <bean id="addPopulationController" class="com.zynap.talentstudio.web.analysis.populations.AddPopulationWizardController">
        <property name="pages">
            <list>
                <value>addpopulation</value>
                <value>addpopulation1</value>
                <value>addpopulation1</value>
            </list>
        </property>
        <property name="sessionForm" value="true"/>
        <property name="cancelView" value="listpopulations.htm"/>
        <property name="successView" value="viewpopulation.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.populations.PopulationWrapperBean"/>
        <property name="analysisService" ref="analysisService"/>
        <property name="validator" ref="populationValidator"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="groupService" ref="groupService"/>
        <property name="organisationService" ref="organisationUnitService"/>
        <property name="builder" ref="populationCriteriaBuilder"/>
    </bean>

    <bean id="editPopulationController" class="com.zynap.talentstudio.web.analysis.populations.EditPopulationWizardController" parent="addPopulationController">
        <property name="pages">
            <list>
                <value>editpopulation1</value>
                <value>editpopulation1</value>
                <value>editpopulation1</value>
            </list>
        </property>
        <property name="cancelView" value="viewpopulation.htm"/>
    </bean>

    <bean id="deletePopulationController" class="com.zynap.talentstudio.web.analysis.populations.DeletePopulationController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="deletepopulation"/>
        <property name="successView" value="listpopulations.htm"/>
        <property name="cancelView" value="viewpopulation.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.analysis.populations.Population"/>
        <property name="analysisService" ref="analysisService"/>
    </bean>

    <bean id="viewPopulationController" class="com.zynap.talentstudio.web.analysis.populations.ViewPopulationWizardController" parent="addPopulationController">
        <property name="pages">
            <list>
                <value>viewpopulation</value>
                <value>viewpopulation</value>
            </list>
        </property>
        <property name="cancelView" value="listpopulations.htm"/>
        <property name="successView" value="listpopulations.htm"/>
        <property name="populationEngine" ref="populationEngine"/>
        <property name="reportService" ref="reportService"/>
        <property name="reportRunner" ref="tabularReportRunner"/>
    </bean>

    <!-- ################################################### REPORTING ###################################################### -->
    <!-- ########## FILLERS AND RUNNERS ########### -->
    <bean id="tabularReportFiller" class="com.zynap.talentstudio.web.analysis.reports.managers.TabularReportFiller">
        <property name="dataSourceFactory" ref="dataSourceFactory"/>
    </bean>

    <bean id="metricReportFiller" class="com.zynap.talentstudio.web.analysis.reports.managers.MetricReportFiller" parent="tabularReportFiller"/>
    <bean id="crossTabReportFiller" class="com.zynap.talentstudio.web.analysis.reports.managers.CrossTabReportFiller" parent="tabularReportFiller"/>
    <bean id="chartReportFiller" class="com.zynap.talentstudio.web.analysis.reports.managers.ChartReportFiller"/>
    <bean id="spiderChartReportFiller" class="com.zynap.talentstudio.web.analysis.reports.managers.SpiderChartReportFiller" parent="tabularReportFiller"/>
    <bean id="progressReportFiller" class="com.zynap.talentstudio.web.analysis.reports.managers.ProgressReportFiller" parent="tabularReportFiller"/>

    <bean id="tabularReportRunner" class="com.zynap.talentstudio.web.analysis.reports.support.TabularReportRunner">
        <property name="populationEngine" ref="populationEngine"/>
        <property name="reportFiller" ref="tabularReportFiller"/>
    </bean>

    <bean id="progressReportRunner" class="com.zynap.talentstudio.web.analysis.reports.support.ProgressReportRunner" parent="tabularReportRunner">
        <property name="reportFiller" ref="progressReportFiller"/>
    </bean>
    <bean id="chartReportRunner" class="com.zynap.talentstudio.web.analysis.reports.support.ChartReportRunner" parent="tabularReportRunner">
        <property name="reportFiller" ref="chartReportFiller"/>
    </bean>
    <bean id="spiderChartReportRunner" class="com.zynap.talentstudio.web.analysis.reports.support.SpiderChartReportRunner">
        <property name="populationEngine" ref="populationEngine"/>
        <property name="dataSourceFactory" ref="dataSourceFactory"/>
    </bean>
    <bean id="metricReportRunner" class="com.zynap.talentstudio.web.analysis.reports.support.MetricReportRunner" parent="tabularReportRunner">
        <property name="reportFiller" ref="metricReportFiller"/>
        <property name="metricService" ref="metricService"/>
    </bean>

    <bean id="crossTabReportRunner" class="com.zynap.talentstudio.web.analysis.reports.support.CrossTabReportRunner" parent="tabularReportRunner">
        <property name="organisationUnitService" ref="organisationUnitService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="reportFiller" ref="crossTabReportFiller"/>
    </bean>

    <!-- ======================== REPORT CONTROLLERS ============================== -->
    <bean id="deleteReportController" class="com.zynap.talentstudio.web.analysis.reports.DeleteReportController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="confirmdeletereport"/>
        <property name="successView" value="listreports.htm"/>
        <property name="cancelView" value="runviewstandardreport.htm"/>
        <property name="reportService" ref="reportService"/>
    </bean>

    <bean id="deleteMetricReportController" parent="deleteReportController">
        <property name="successView" value="listmetricreports.htm"/>
        <property name="cancelView" value="runviewmetricreport.htm"/>
    </bean>

    <bean id="deleteProgressReportController" parent="deleteReportController">
        <property name="successView" value="listprogressreports.htm"/>
        <property name="cancelView" value="runviewprogressreport.htm"/>
    </bean>

    <bean id="deleteCrossTabReportController" parent="deleteReportController">
        <property name="successView" value="listcrosstabreports.htm"/>
        <property name="cancelView" value="runviewcrosstabreport.htm"/>
    </bean>

    <bean id="addChartReportController" class="com.zynap.talentstudio.web.analysis.reports.ChartReportWizardController" parent="addReportController">
        <property name="pages">
            <list>
                <value>addchartreport</value>
                <value>addchartcolumns</value>
                <value>addchartvalues</value>
            </list>
        </property>
        <property name="cancelView" value="listchartreports.htm"/>
        <property name="successView" value="runviewchartreport.htm"/>
        <property name="runReportURL" value="runchartreport.htm">
            <description>URL that menu items will use</description>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.ChartReportWrapperBean"/>
        <property name="builder" ref="chartReportColumnBuilder"/>
    </bean>
    <bean id="editChartReportController" class="com.zynap.talentstudio.web.analysis.reports.ChartReportWizardController" parent="addChartReportController">
        <property name="pages">
            <list>
                <value>editchartreport</value>
                <value>editchartcolumns</value>
                <value>editchartvalues</value>
            </list>
        </property>
        <property name="cancelView" value="runviewchartreport.htm"/>
        <property name="editing" value="true"/>
    </bean>
    <bean id="addSpiderChartReportController" class="com.zynap.talentstudio.web.analysis.reports.SpiderChartReportWizardController" parent="addChartReportController">
        <property name="pages">
            <list>
                <value>addspiderchartreport</value>
                <value>addspiderchartgroups</value>
                <value>addspiderchartattributes</value>
            </list>
        </property>
        <property name="successView" value="runviewspiderchartreport.htm"/>
        <property name="runReportURL" value="runspiderchartreport.htm">
            <description>URL that menu items will use</description>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.SpiderChartWrapperBean"/>
        <property name="builder" ref="metricCriteriaBuilder"/>
    </bean>
    <bean id="editSpiderChartReportController" class="com.zynap.talentstudio.web.analysis.reports.SpiderChartReportWizardController" parent="addSpiderChartReportController">
        <property name="pages">
            <list>
                <value>editspiderchartreport</value>
                <value>editspiderchartgroups</value>
                <value>editspiderchartattributes</value>
            </list>
        </property>
        <property name="editing" value="true"/>
    </bean>
    <bean id="deleteChartReportController" parent="deleteReportController">
        <property name="cancelView" value="runviewchartreport.htm"/>
        <property name="successView" value="listchartreports.htm"/>
    </bean>
    <bean id="runViewChartReportController" class="com.zynap.talentstudio.web.analysis.reports.RunChartReportController">
        <property name="pages">
            <list>
                <value>runviewchartreport</value>
                <value>runviewchartreport</value>
                <value>runviewchartreport</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.views.RunChartReportWrapper"/>
        <property name="autoRun" value="false">
            <description>Config parameter that indicates if report should be run automatically</description>
        </property>
        <property name="reportService" ref="reportService"/>
        <property name="analysisService" ref="analysisService"/>
        <property name="reportRunner" ref="chartReportRunner"/>
        <property name="builder" ref="chartReportColumnBuilder"/>
    </bean>
    <bean id="runChartReportController" parent="runViewChartReportController">
        <property name="pages">
            <list>
                <value>runchartreport</value>
                <value>runchartreport</value>
            </list>
        </property>
        <property name="autoRun" value="true">
            <description>Config parameter that indicates if report should be run automatically</description>
        </property>
    </bean>
    <bean id="runViewSpiderChartReportController" class="com.zynap.talentstudio.web.analysis.reports.RunSpiderChartReportController" parent="runChartReportController">
        <property name="pages">
            <list>
                <value>runviewspiderchartreport</value>
                <value>runviewspiderchartreport</value>
                <value>runviewspiderchartreport</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.views.RunSpiderChartReportWrapper"/>
        <property name="autoRun" value="false">
            <description>Config parameter that indicates if report should be run automatically</description>
        </property>
        <property name="reportRunner" ref="spiderChartReportRunner"/>
        <property name="builder" ref="metricCriteriaBuilder"/>
    </bean>
    <bean id="runSpiderChartReportController" parent="runViewSpiderChartReportController">
        <property name="pages">
            <list>
                <value>runspiderchartreport</value>
                <value>runspiderchartreport</value>
            </list>
        </property>
        <property name="autoRun" value="true">
            <description>Config parameter that indicates if report should be run automatically</description>
        </property>
    </bean>
    <bean id="listChartReportsController" parent="listReportsController">
        <property name="reportType" value="CHART"/>
        <property name="formView" value="listchartreports"/>
    </bean>

    <bean id="addReportController" class="com.zynap.talentstudio.web.analysis.reports.AddReportWizardController">
        <property name="pages">
            <list>
                <value>addstandardreport</value>
                <value>addcolumns</value>
                <value>addcolumns</value>
                <value>addcolumns</value>
                <value>addcolumns</value>
                <value>addfunction</value>
                <value>addfunction</value>
                <value>addfunction</value>
                <value>addfunction</value>
                <value>addcolumns</value>
                <value>addcolumns</value>
            </list>
        </property>
        <property name="cancelView" value="listreports.htm"/>
        <property name="successView" value="runviewstandardreport.htm"/>
        <property name="runReportURL" value="runtabularreport.htm">
            <description>URL that menu items will use</description>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.TabularReportWrapperBean"/>
        <property name="populationService" ref="analysisService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="validator" ref="reportValidator"/>
        <property name="reportService" ref="reportService"/>
        <property name="groupService" ref="groupService"/>
        <property name="builder" ref="tabularReportColumnBuilder"/>
    </bean>

    <bean id="editReportController" class="com.zynap.talentstudio.web.analysis.reports.EditReportWizardController" parent="addReportController">
        <property name="pages">
            <list>
                <value>editstandardreport</value>
                <value>editcolumns</value>
                <value>editcolumns</value>
                <value>editcolumns</value>
                <value>editcolumns</value>
                <value>addfunction</value>
                <value>addfunction</value>
                <value>addfunction</value>
                <value>addfunction</value>
                <value>editcolumns</value>
                <value>editcolumns</value>
            </list>
        </property>
        <property name="cancelView" value="runviewstandardreport.htm"/>
        <property name="successView" value="runviewstandardreport.htm"/>
    </bean>

    <bean id="addCrossTabReportController" class="com.zynap.talentstudio.web.analysis.reports.AddCrossTabWizardController" parent="addReportController">
        <property name="pages">
            <list>
                <value>addcrosstabreport</value>
                <value>addcrosstabreport</value>
                <value>addcrosstabcolumns</value>
                <value>addcrosstablabels</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.CrossTabReportWrapperBean"/>
        <property name="cancelView" value="listcrosstabreports.htm"/>
        <property name="successView" value="runviewcrosstabreport.htm"/>
        <property name="maxCellsNumber" value="400"/>
        <property name="runReportURL" value="runcrosstabreport.htm">
            <description>URL that menu items will use</description>
        </property>
        <property name="organisationManager" ref="organisationUnitService"/>
        <property name="metricService" ref="metricService"/>
        <property name="builder" ref="crosstabReportColumnBuilder"/>
    </bean>

    <bean id="editCrossTabReportController" class="com.zynap.talentstudio.web.analysis.reports.EditCrossTabWizardController" parent="addCrossTabReportController">
        <property name="pages">
            <list>
                <value>editcrosstabreport</value>
                <value>editcrosstabreport</value>
                <value>editcrosstabcolumns</value>
                <value>editcrosstablabels</value>
            </list>
        </property>
        <property name="cancelView" value="runviewcrosstabreport.htm"/>
        <property name="successView" value="runviewcrosstabreport.htm"/>
    </bean>

    <bean id="addMetricReportController" class="com.zynap.talentstudio.web.analysis.reports.AddMetricReportController" parent="addReportController">
        <property name="pages">
            <list>
                <value>addmetricreport</value>
                <value>addmetriccolumns</value>
                <value>addmetriccolumns</value>
                <value>addmetricfunction</value>
                <value>addmetricfunction</value>
                <value>addmetricfunction</value>
                <value>addmetricfunction</value>
                <value>addmetriccolumns</value>
                <value>addmetriccolumns</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.MetricReportWrapperBean"/>
        <property name="cancelView" value="listmetricreports.htm"/>
        <property name="successView" value="runviewmetricreport.htm"/>
        <property name="runReportURL" value="runmetricreport.htm">
            <description>URL that menu items will use</description>
        </property>
        <property name="metricService" ref="metricService"/>
        <property name="builder" ref="crosstabReportColumnBuilder"/>
    </bean>

    <bean id="editMetricReportController" class="com.zynap.talentstudio.web.analysis.reports.EditMetricReportController" parent="addMetricReportController">
        <property name="pages">
            <list>
                <value>editmetricreport</value>
                <value>editmetriccolumns</value>
                <value>editmetriccolumns</value>
                <value>addmetricfunction</value>
                <value>addmetricfunction</value>
                <value>addmetricfunction</value>
                <value>addmetricfunction</value>
                <value>editmetriccolumns</value>
                <value>editmetriccolumns</value>
            </list>
        </property>
        <property name="cancelView" value="runviewmetricreport.htm"/>
        <property name="successView" value="runviewmetricreport.htm"/>
    </bean>

    <!-- Export controller -->
    <bean id="exportTabularReportController" class="com.zynap.talentstudio.web.analysis.reports.ReportExportController">
        <property name="formView" value="exportreport"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.views.RunReportWrapperBean"/>
        <property name="reportService" ref="reportService"/>
        <property name="analysisService" ref="analysisService"/>
        <property name="populationEngine" ref="populationEngine"/>
        <property name="reportRunner" ref="tabularReportRunner"/>
    </bean>

    <bean id="reportPdfExportController" class="com.zynap.talentstudio.web.analysis.reports.ReportPdfExportController">
        <property name="reportService" ref="reportService"/>
        <property name="analysisService" ref="analysisService"/>
        <property name="populationEngine" ref="populationEngine"/>
        <property name="reportRunner" ref="tabularReportRunner"/>
        <property name="messageSource" ref="messageSource"/>
    </bean>

    <bean id="progressReportPdfExportController" class="com.zynap.talentstudio.web.analysis.reports.ProgressReportPdfExportController" parent="reportPdfExportController">
        <property name="reportRunner" ref="progressReportRunner"/>
        <property name="subjectService" ref="subjectService"/>
    </bean>

    <bean id="progressReportCsvExportController" class="com.zynap.talentstudio.web.analysis.reports.ProgressReportCsvExportController" parent="progressReportPdfExportController"/>

    <!-- controller used in analyser arena to view details and run tabular reports -->
    <bean id="runViewReportController" class="com.zynap.talentstudio.web.analysis.reports.RunTabularController">
        <property name="pages">
            <list>
                <value>runviewstandardreport</value>
                <value>runviewstandardreport</value>
                <value>runviewstandardreport</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.views.RunReportWrapperBean"/>
        <property name="autoRun" value="false">
            <description>Config parameter that indicates if report should be run automatically</description>
        </property>
        <property name="reportService" ref="reportService"/>
        <property name="analysisService" ref="analysisService"/>
        <property name="reportRunner" ref="tabularReportRunner"/>
        <property name="builder" ref="tabularReportColumnBuilder"/>
        <property name="populationEngine" ref="populationEngine"/>
    </bean>

    <bean id="viewArchivedReportsController" class="com.zynap.talentstudio.web.organisation.subjects.ViewArchivedReportsController">
        <property name="pages">
            <list>
                <value>runviewarchivedreport</value>
                <value>runviewarchivedreport</value>
                <value>runviewarchivedreport</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.subjects.ApprisalReportListWrapper"/>
        <property name="reportService" ref="reportService"/>
        <property name="appraisalReportBuilder" ref="appraisalReportBuilder"/>
    </bean>


    <!-- controller used in analyser arena to view details and run crosstab reports -->
    <bean id="runViewCrossTabController" class="com.zynap.talentstudio.web.analysis.reports.RunCrossTabController" parent="runViewReportController">
        <property name="pages">
            <list>
                <value>runviewcrosstabreport</value>
                <value>runviewcrosstabreport</value>
                <value>runviewcrosstabreport</value>
                <value>runviewcrosstabreport</value>
                <value>runviewcrosstabreport</value>
                <value>runviewcrosstabreport</value>
            </list>
        </property>
        <property name="barChartTypes">
            <list>
                <value>verticalBar3D</value>
                <value>verticalBar</value>
                <value>horizontalBar3D</value>
                <value>horizontalBar</value>
                <value>overlaidxy</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.views.RunCrossTabReportWrapper"/>
        <property name="maxCellsNumber" value="400"/>
        <property name="organisationUnitService" ref="organisationUnitService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="metricService" ref="metricService"/>
        <property name="reportRunner" ref="crossTabReportRunner"/>
        <property name="builder" ref="crosstabReportColumnBuilder"/>
    </bean>

    <!-- controller used in analyser arena to view details and run metric reports -->
    <bean id="runViewMetricController" class="com.zynap.talentstudio.web.analysis.reports.RunMetricReportController" parent="runViewReportController">
        <property name="pages">
            <list>
                <value>runviewmetricreport</value>
                <value>runviewmetricreport</value>
                <value>runviewmetricreport</value>
                <value>runviewmetricreport</value>
                <value>runviewmetricreport</value>
                <value>runviewmetricreport</value>
            </list>
        </property>
        <property name="barChartTypes">
            <list>
                <value>horizontalBar3D</value>
                <value>horizontalBar</value>
                <value>verticalBar3D</value>
                <value>verticalBar</value>
                <value>overlaidxy</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.views.RunMetricReportWrapper"/>
        <property name="reportRunner" ref="metricReportRunner"/>
        <property name="builder" ref="crosstabReportColumnBuilder"/>
    </bean>

    <!-- controller used in all arenas except analyser arena to run tabular reports -->
    <bean id="runTabularController" parent="runViewReportController">
        <property name="pages">
            <list>
                <value>runtabularreport</value>
                <value>runtabularreport</value>
            </list>
        </property>
        <property name="autoRun" value="true">
            <description>Config parameter that indicates if report should be run automatically</description>
        </property>
    </bean>

    <!-- controller used in all arenas except analyser arena to run cross tab reports -->
    <bean id="runCrossTabController" parent="runViewCrossTabController">
        <property name="pages">
            <list>
                <value>runcrosstabreport</value>
                <value>runcrosstabreport</value>
                <value>runcrosstabreport</value>
                <value>runcrosstabreport</value>
                <value>runcrosstabreport</value>
                <value>runcrosstabreport</value>
                <value>runcrosstabreport</value>
                <value>runcrosstabreport</value>
            </list>
        </property>
        <property name="autoRun" value="true">
            <description>Config parameter that indicates if report should be run automatically</description>
        </property>
    </bean>

    <!-- controller used in all arenas except analyser arena to run metric reports -->
    <bean id="runMetricController" parent="runViewMetricController">
        <property name="pages">
            <list>
                <value>runmetricreport</value>
                <value>runmetricreport</value>
                <value>runmetricreport</value>
                <value>runmetricreport</value>
                <value>runmetricreport</value>
                <value>runmetricreport</value>
            </list>
        </property>
        <property name="autoRun" value="true">
            <description>Config parameter that indicates if report should be run automatically</description>
        </property>
    </bean>

    <bean id="listReportsController" class="com.zynap.talentstudio.web.analysis.reports.ListReportController">
        <property name="sessionForm" value="true"/>
        <property name="reportService" ref="reportService"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.ListReportWrapperBean"/>
        <property name="reportType" value="STANDARD"/>
        <property name="formView" value="listreports"/>
    </bean>

    <bean id="listMetricReportsController" parent="listReportsController">
        <property name="reportType" value="METRIC"/>
        <property name="formView" value="listmetricreports"/>
    </bean>

    <bean id="listCrossTabReportsController" parent="listReportsController">
        <property name="reportType" value="CROSSTAB"/>
        <property name="formView" value="listcrosstabreports"/>
    </bean>

    <!--
        ##################################### progress report controllers #########################################
    -->

    <bean id="progressReportValidator" class="com.zynap.talentstudio.web.analysis.reports.ProgressReportValidator"/>

    <bean id="addProgressReportController" class="com.zynap.talentstudio.web.analysis.reports.ProgressReportWizardController">
        <property name="pages">
            <list>
                <value>selectdefinition</value>
                <value>addprogressreport</value>
                <value>addprogressreport</value>
                <value>addprogressreport</value>
                <value>addprogressreport</value>
                <value>addprogressreport</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.ProgressReportWrapperBean"/>
        <property name="cancelView" value="listprogressreports.htm"/>
        <property name="successView" value="runviewprogressreport.htm"/>
        <property name="reportService" ref="reportService"/>
        <property name="questionnaireDefinitionService" ref="questionnaireDefinitionService"/>
        <property name="populationService" ref="analysisService"/>
        <property name="validator" ref="progressReportValidator"/>
    </bean>

    <bean id="editProgressReportController" parent="addProgressReportController">
        <property name="pages">
            <list>
                <value>editprogressreport</value>
                <value>editprogressreport</value>
                <value>editprogressreport</value>
                <value>editprogressreport</value>
                <value>editprogressreport</value>
                <value>editprogressreport</value>
            </list>
        </property>
        <property name="cancelView" value="runviewprogressreport.htm"/>
    </bean>


    <bean id="progressReportMultiController" class="com.zynap.talentstudio.web.analysis.reports.ProgressReportMultiController">
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/analysis/listprogressreports.htm">listProgressReports</prop>
                        <prop key="/analysis/runviewprogressreport.htm">viewProgressReport</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="reportService" ref="reportService"/>
    </bean>

    <!--
        ##################################### appraisal report controllers #########################################
    -->
    <bean id="appraisalReportMultiController" class="com.zynap.talentstudio.web.analysis.reports.AppraisalReportMultiController">
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/analysis/listappraisalreports.htm">listAppraisalReports</prop>
                        <prop key="/analysis/viewappraisalreport.htm">viewAppraisalReport</prop>
                        <prop key="/analysis/deleteappraisalreport.htm">deleteAppraisalReport</prop>
                        <prop key="/analysis/editarchiveappraisalreport.htm">archiveAppraisalReport</prop>
                        <prop key="/analysis/editpublishappraisalreport.htm">publishAppraisalReport</prop>
                        <prop key="/analysis/editopenappraisalreport.htm">reopenAppraisalReport</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="reportService" ref="reportService"/>
    </bean>

    <bean id="addAppraisalReportController" class="com.zynap.talentstudio.web.analysis.reports.AddAppraisalReportWizardController">
        <property name="pages">
            <list>
                <value>selectappraisal</value>
                <value>addappraisalreport</value>
                <value>addappraisalreport</value>
                <value>addappraisalreport</value>
                <value>addappraisalreport</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.reports.AppraisalReportWrapperBean"/>
        <property name="cancelView" value="listappraisalreports.htm"/>
        <property name="successView" value="viewappraisalreport.htm"/>
        <property name="performanceReviewService" ref="performanceReviewService"/>
        <property name="reportService" ref="reportService"/>
        <property name="validator" ref="appraisalReportValidator"/>
    </bean>

    <bean id="editAppraisalReportController" class="com.zynap.talentstudio.web.analysis.reports.EditAppraisalWizardController" parent="addAppraisalReportController">
        <property name="pages">
            <list>
                <value>editappraisalreport</value>
                <value>editappraisalreport</value>
                <value>editappraisalreport</value>
                <value>editappraisalreport</value>
            </list>
        </property>
        <property name="cancelView" value="viewappraisalreport.htm"/>
    </bean>

    <!--
        ##################################### metric controllers #########################################
    -->
    <bean id="addMetricController" class="com.zynap.talentstudio.web.analysis.metrics.AddMetricController">
        <property name="pages">
            <list>
                <value>addmetric</value>
                <value>addmetric</value>
                <value>addmetric</value>
            </list>
        </property>
        <property name="cancelView" value="listmetrics.htm"/>
        <property name="successView" value="viewmetric.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.metrics.MetricWrapper"/>
        <property name="validator" ref="metricValidator"/>
        <property name="metricService" ref="metricService"/>
        <property name="builder" ref="metricCriteriaBuilder"/>
        <property name="countBuilder" ref="metricCountCriteriaBuilder"/>
    </bean>

    <bean id="editMetricController" class="com.zynap.talentstudio.web.analysis.metrics.EditMetricController" parent="addMetricController">
        <property name="pages">
            <list>
                <value>editmetric</value>
                <value>editmetric</value>
                <value>editmetric</value>
            </list>
        </property>
        <property name="cancelView" value="viewmetric.htm"/>
        <property name="successView" value="viewmetric.htm"/>
    </bean>

    <bean id="deleteMetricController" class="com.zynap.talentstudio.web.analysis.metrics.DeleteMetricController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="confirmdeletemetric"/>
        <property name="cancelView" value="viewmetric.htm"/>
        <property name="successView" value="listmetrics.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.analysis.metrics.Metric"/>
        <property name="metricService" ref="metricService"/>
    </bean>

    <bean id="metricMultiController" class="com.zynap.talentstudio.web.analysis.metrics.MetricMultiController">
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/analysis/listmetrics.htm">listMetrics</prop>
                        <prop key="/analysis/viewmetric.htm">viewMetric</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="builder" ref="metricCriteriaBuilder"/>
        <property name="countBuilder" ref="metricCountCriteriaBuilder"/>
        <property name="metricService" ref="metricService"/>
    </bean>

    <!-- Controllers for users to view / edit their own account -->

    <bean id="personalAccountController" class="com.zynap.talentstudio.web.account.PersonalAccountController">
        <property name="userService" ref="userService"/>
        <property name="attributeService" ref="dynamicAttrService"/>
    </bean>

    <bean id="editPersonalAccountController" class="com.zynap.talentstudio.web.account.EditPersonalAccountController">
        <property name="sessionForm" value="false"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.security.admin.UserWrapperBean"/>
        <property name="successView" value="viewmyaccount.htm"/>
        <property name="cancelView" value="viewmyaccount.htm"/>
        <property name="validator" ref="userValidator"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="userService" ref="userService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
    </bean>

    <bean id="resetMyPasswordController" class="com.zynap.talentstudio.web.controller.admin.ResetPasswordFormController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="resetmypassword"/>
        <property name="successView" value="viewmyaccount.htm"/>
        <property name="cancelView" value="viewmyaccount.htm"/>
        <property name="commandClass" value="com.zynap.domain.admin.UserPassword"/>
        <property name="userService" ref="userService"/>
    </bean>

    <!-- Controllers for subject users -->

    <bean id="personalDetailsController" class="com.zynap.talentstudio.web.account.PersonalDetailsController" parent="browseSubjectController" scope="session">
        <property name="pages">
            <list>
                <value>viewmydetails</value>
                <value>viewmydetails</value>
                <value>viewmydetails</value>
            </list>
        </property>
    </bean>
    <bean id="personalHomePageDetailsController" parent="personalDetailsController" scope="session">
        <property name="pages">
            <list>
                <value>viewmyhomepagedetails</value>
                <value>viewmyhomepagedetails</value>
                <value>viewmyhomepagedetails</value>
            </list>
        </property>
    </bean>

    <bean id="browseMyTeamController" class="com.zynap.talentstudio.web.organisation.BrowseMyTeamController" parent="browseSubjectController" scope="session">
        <property name="pages">
            <list>
                <value>viewmyteam</value>
                <value>viewmyteam</value>
                <value>viewmyteam</value>
                <value>viewmyteam</value>
                <value>viewmyteam</value>
                <value>viewmyteam</value>
                <value>viewmyteam</value>
            </list>
        </property>
        <property name="initialPage" value="0"/>
        <property name="userService" ref="userService"/>
    </bean>

    <bean id="viewMyPortfolioController" class="com.zynap.talentstudio.web.portfolio.ViewMyPortfolioController">
        <property name="subjectService" ref="subjectService"/>
        <property name="displayConfigService" ref="displayConfigService"/>
        <property name="questionnaireService" ref="questionnaireService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="populationEngine" ref="populationEngine"/>
        <property name="positionService" ref="positionService"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.BrowseNodeWrapper"/>
        <property name="sessionForm" value="true"/>
        <property name="formView" value="viewmyportfoliohome"/>
    </bean>
    <bean id="viewMyHomePagePortfolioController" parent="viewMyPortfolioController">
        <property name="formView" value="viewmyhomepageportfolio"/>
    </bean>

    <bean id="viewMyDashboardController" class="com.zynap.talentstudio.web.dashboard.ViewMyDashboardController">
        <property name="subjectService" ref="subjectService"/>
        <property name="positionService" ref="positionService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="dashboardService" ref="dashboardService"/>
        <property name="dashboardBuilder" ref="dashboardBuilder"/>
        <property name="populationEngine" ref="populationEngine"/>
        <property name="displayConfigService" ref="displayConfigService"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.dashboard.MyDashboardWrapper"/>
        <property name="sessionForm" value="true"/>
        <property name="formView" value="viewmydashboardhome"/>
    </bean>
    <bean id="viewMyHomePageDashboardController" parent="viewMyDashboardController">
        <property name="formView" value="viewmyhomepagedashboard"/>
    </bean>

    <bean id="resetSubjectUserPwdController" parent="resetUserPwdController">
        <property name="successView" value="browsesubject.htm"/>
        <property name="cancelView" value="browsesubject.htm"/>
    </bean>

    <bean id="addSubjectUserController" class="com.zynap.talentstudio.web.organisation.subjects.SubjectUserController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="addsubjectuser"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.organisation.subjects.SubjectWrapperBean"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="userService" ref="userService"/>
        <property name="groupService" ref="groupService"/>
        <property name="roleManager" ref="roleManager"/>
        <property name="validator" ref="subjectUserValidator"/>
    </bean>

    <bean id="editSubjectUserController" parent="addSubjectUserController">
        <property name="formView" value="editsubjectuser"/>
    </bean>

    <!--################################# Questionnaire Controllers #################################-->

    <bean id="answerQuestionnaireController" class="com.zynap.talentstudio.web.questionnaires.AnswerQuestionnaireController">
        <property name="pages">
            <list>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
                <value>answerquestionnaire</value>
            </list>
        </property>
        <property name="allowDirtyBack" value="true"/>
        <property name="allowDirtyForward" value="true"/>
        <property name="validator" ref="worklistValidator"/>
        <property name="questionnaireService" ref="questionnaireService"/>
        <property name="organisationUnitService" ref="organisationUnitService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="questionnaireHelper" ref="questionnaireHelper"/>
        <property name="messageService" ref="messageService"/>
        <property name="userService" ref="userService"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.questionnaires.QuestionnaireWrapper"/>
        <property name="cancelView" value="viewsubjectquestionnaire.htm"/>
        <property name="successView" value="viewsubjectquestionnaire.htm"/>
        <property name="managerView" value="true"/>
        <property name="imageURL" value="/image/daimageview.htm"/>
        <property name="mailNotifications">
            <map>
                <entry key="INBOX">
                    <bean class="com.zynap.talentstudio.web.common.UrlBeanPair">
                        <constructor-arg index="0" type="java.lang.String" value="/talentarena/worklistmessages.htm"/>
                        <constructor-arg index="1" ref="inboxMailNotification"/>
                    </bean>
                </entry>
                <entry key="NO_INBOX_MANAGER">
                    <bean class="com.zynap.talentstudio.web.common.UrlBeanPair">
                        <constructor-arg index="0" type="java.lang.String" value="/talentarena/viewmydetails.htm"/>
                        <constructor-arg index="1" ref="infoFormManagerUpdateMailNotification"/>
                    </bean>
                </entry>
                <entry key="NO_INBOX_STAFF">
                    <bean class="com.zynap.talentstudio.web.common.UrlBeanPair">
                        <constructor-arg index="0" type="java.lang.String" value="/talentarena/viewmyteam.htm"/>
                        <constructor-arg index="1" ref="infoFormStaffUpdateMailNotification"/>
                    </bean>
                </entry>
                <entry key="APPRAISAL">
                    <bean class="com.zynap.talentstudio.web.common.UrlBeanPair">
                        <constructor-arg index="0" type="java.lang.String" value="/talentarena/worklistappraisals.htm"/>
                        <constructor-arg index="1" ref="evaluateeMailNotification"/>
                    </bean>
                </entry>
            </map>
        </property>
    </bean>

    <bean id="browseAnswerQuestionnaireController" class="com.zynap.talentstudio.web.questionnaires.BrowseAnswerQuestionnaireController">
        <property name="pages">
            <list>
                <value>browseeditsubjectquestionnaire</value>
                <value>browseeditsubjectquestionnaire</value>
                <value>browseeditsubjectquestionnaire</value>
                <value>browseeditsubjectquestionnaire</value>
                <value>browseeditsubjectquestionnaire</value>
                <value>browseeditsubjectquestionnaire</value>
                <value>browseeditsubjectquestionnaire</value>
            </list>
        </property>
        <property name="questionnaireService" ref="questionnaireService"/>
        <property name="organisationUnitService" ref="organisationUnitService"/>
        <property name="questionnaireHelper" ref="questionnaireHelper"/>
        <property name="messageService" ref="messageService"/>
        <property name="userService" ref="userService"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.questionnaires.BrowseQuestionnaireWrapper"/>
        <property name="cancelView" value="browseviewsubjectquestionnaire.htm"/>
        <property name="successView" value="browseviewsubjectquestionnaire.htm"/>
        <property name="imageURL" value="/image/daimageview.htm"/>
        <property name="mailNotifications">
            <map>
                <entry key="INBOX">
                    <bean class="com.zynap.talentstudio.web.common.UrlBeanPair">
                        <constructor-arg index="0" type="java.lang.String" value="/talentarena/worklistmessages.htm"/>
                        <constructor-arg index="1" ref="inboxMailNotification"/>
                    </bean>
                </entry>
                <entry key="NO_INBOX_MANAGER">
                    <bean class="com.zynap.talentstudio.web.common.UrlBeanPair">
                        <constructor-arg index="0" type="java.lang.String" value="/talentarena/viewmydetails.htm"/>
                        <constructor-arg index="1" ref="infoFormManagerUpdateMailNotification"/>
                    </bean>
                </entry>
            </map>
        </property>
    </bean>

    <bean id="browseAnswerMyQuestionnaireController" class="com.zynap.talentstudio.web.questionnaires.BrowseAnswerMyQuestionnaireController" parent="browseAnswerQuestionnaireController">
        <property name="pages">
            <list>
                <value>browseeditmyquestionnaire</value>
                <value>browseeditmyquestionnaire</value>
                <value>browseeditmyquestionnaire</value>
                <value>browseeditmyquestionnaire</value>
                <value>browseeditmyquestionnaire</value>
                <value>browseeditmyquestionnaire</value>
                <value>browseeditmyquestionnaire</value>
            </list>
        </property>
        <property name="cancelView" value="viewmyquestionnaire.htm"/>
        <property name="successView" value="viewmyquestionnaire.htm"/>
        <property name="imageURL" value="/image/daimageview.htm"/>
        <property name="mailNotifications">
            <map>
                <entry key="INBOX">
                    <bean class="com.zynap.talentstudio.web.common.UrlBeanPair">
                        <constructor-arg index="0" type="java.lang.String" value="/talentarena/worklistmessages.htm"/>
                        <constructor-arg index="1" ref="inboxMailNotification"/>
                    </bean>
                </entry>
                <entry key="NO_INBOX_STAFF">
                    <bean class="com.zynap.talentstudio.web.common.UrlBeanPair">
                        <constructor-arg index="0" type="java.lang.String" value="/talentarena/viewmyteam.htm"/>
                        <constructor-arg index="1" ref="infoFormStaffUpdateMailNotification"/>
                    </bean>
                </entry>
            </map>
        </property>
    </bean>

    <bean id="answerMyQuestionnaireController" parent="answerQuestionnaireController" scope="session">
        <property name="cancelView" value="viewmyquestionnaire.htm"/>
        <property name="successView" value="viewmyquestionnaire.htm"/>
        <property name="managerView" value="false"/>
    </bean>

    <bean id="answerInboxQuestionnaireController" parent="answerQuestionnaireController" scope="session">
        <property name="cancelView" value="worklistmessages.htm"/>
        <property name="successView" value="worklistmessages.htm"/>
    </bean>

    <bean id="answerMyInboxQuestionnaireController" parent="answerMyQuestionnaireController" scope="session">
        <property name="cancelView" value="worklistmessages.htm"/>
        <property name="successView" value="worklistmessages.htm"/>
    </bean>

    <!--################################# Workflow Controller #################################-->
    <bean id="worklistQuestionnaireController" class="com.zynap.talentstudio.web.workflow.WorklistController" parent="answerQuestionnaireController">
        <property name="pages">
            <list>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
                <value>worklistquestionnaires</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.workflow.WorklistWrapper"/>
        <property name="performanceReview" value="false"/>
        <property name="workflowAdapter" ref="workFlowAdapter"/>
        <property name="questionnaireWorkflowService" ref="queWorkflowService"/>
        <property name="userService" ref="userService"/>
        <property name="subjectService" ref="subjectService"/>
    </bean>

    <bean id="worklistAppraisalController" class="com.zynap.talentstudio.web.workflow.AppraisalWorklistController" parent="worklistQuestionnaireController">
        <property name="pages">
            <list>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
                <value>worklistappraisals</value>
            </list>
        </property>
        <property name="displayConfigService" ref="displayConfigService"/>
        <property name="objectiveService" ref="objectiveService"/>
        <property name="performanceReview" value="true"/>
        <property name="performanceReviewService" ref="performanceReviewService"/>
    </bean>

    <bean id="worklistObjectiveAssessmentsController" class="com.zynap.talentstudio.web.objectives.ListAssessorsAssessmentsController">
        <property name="pageView" value="worklistassessments"/>
        <property name="objectiveService" ref="objectiveService"/>
    </bean>

    <bean id="worklistEditAssessmentController" class="com.zynap.talentstudio.web.objectives.EditObjectiveAssessmentController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="worklisteditassessment"/>
        <property name="successView" value="worklistassessments.htm"/>
        <property name="cancelView" value="worklistassessments.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.objectives.AssessmentFormBean"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="objectiveService" ref="objectiveService"/>
        <property name="userService" ref="userService"/>
    </bean>

    <!--##################################### Inbox Controllers #####################################-->
    <bean id="worklistMessageController" class="com.zynap.talentstudio.web.messages.ListMessagesController">
        <property name="formView" value="worklistmessages"/>
        <property name="messageService" ref="messageService"/>
    </bean>

    <bean id="messageMultiController" class="com.zynap.talentstudio.web.messages.MessageMultiController">
        <property name="methodNameResolver">
            <bean id="messageMultiMethodNameResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/talentarena/worklistdeletemessage.htm">deleteMessage</prop>
                        <prop key="/talentarena/worklistdeletemessages.htm">deleteMessages</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="messageService" ref="messageService"/>
    </bean>

    <!--################################# Analyser Picker Controllers #################################-->

    <bean id="populationCriteriaBuilder" class="com.zynap.talentstudio.web.analysis.picker.PopulationCriteriaBuilder">
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="questionnaireWorkflowService" ref="queWorkflowService"/>
        <property name="performanceReviewService" ref="performanceReviewService"/>
        <property name="questionnaireDefinitionService" ref="questionnaireDefinitionService"/>
        <property name="questionnaireHelper" ref="questionnaireHelper"/>
        <property name="includeActiveFlag" value="true"/>
        <property name="sourceFile" value="populationcriteriatree.xml"/>
    </bean>

    <bean id="metricCriteriaBuilder" parent="populationCriteriaBuilder">
        <property name="includeActiveFlag" value="false"/>
        <property name="sourceFile" value="metriccriteriatree.xml"/>
    </bean>

    <bean id="metricCountCriteriaBuilder" parent="populationCriteriaBuilder">
        <property name="includeActiveFlag" value="false"/>
        <property name="sourceFile" value="metriccountcriteriatree.xml"/>
    </bean>

    <bean id="tabularReportColumnBuilder" parent="populationCriteriaBuilder">
        <property name="includeActiveFlag" value="false"/>
        <property name="sourceFile" value="tabularreportcolumntree.xml"/>
    </bean>

    <bean id="chartReportColumnBuilder" parent="populationCriteriaBuilder">
        <property name="includeActiveFlag" value="false"/>
        <property name="sourceFile" value="chartreportcolumntree.xml"/>
    </bean>

    <bean id="crosstabReportColumnBuilder" parent="populationCriteriaBuilder">
        <property name="includeActiveFlag" value="false"/>
        <property name="sourceFile" value="crosstabreportcolumntree.xml"/>
    </bean>

    <bean id="artefactViewColumnBuilder" parent="populationCriteriaBuilder">
        <property name="includeActiveFlag" value="true"/>
        <property name="sourceFile" value="artefactviewtree.xml"/>
    </bean>

    <bean id="execArtefactViewColumnBuilder" parent="populationCriteriaBuilder">
        <property name="sourceFile" value="execartefactviewtree.xml"/>
    </bean>

    <bean id="populationPickerController" class="com.zynap.talentstudio.web.analysis.picker.AnalysisAttributePickerController">
        <property name="pages">
            <list>
                <value>treepicker</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.analysis.picker.AnalysisAttributeTreeWrapperBean"/>
        <property name="leafIcon" value="position.gif"/>
        <property name="builder" ref="populationCriteriaBuilder"/>

    </bean>

    <bean id="metricPickerController" parent="populationPickerController">
        <property name="builder" ref="metricCriteriaBuilder"/>
    </bean>

    <bean id="metricCountPickerController" parent="populationPickerController">
        <property name="builder" ref="metricCountCriteriaBuilder"/>
    </bean>

    <bean id="tabularReportPickerController" parent="populationPickerController">
        <property name="builder" ref="tabularReportColumnBuilder"/>
    </bean>

    <bean id="chartReportPickerController" parent="populationPickerController">
        <property name="builder" ref="chartReportColumnBuilder"/>
    </bean>

    <bean id="crosstabReportPickerController" parent="populationPickerController">
        <property name="builder" ref="crosstabReportColumnBuilder"/>
    </bean>

    <bean id="artefactPickerController" parent="populationPickerController">
        <property name="builder" ref="artefactViewColumnBuilder"/>
    </bean>

    <bean id="execArtefactPickerController" parent="populationPickerController">
        <property name="builder" ref="execArtefactViewColumnBuilder"/>
    </bean>

    <!--################################# Picker Controllers #################################-->
    <bean id="positionPickerController" class="com.zynap.talentstudio.web.utils.tree.PositionPickerController">
        <property name="pages">
            <list>
                <value>treepicker</value>
                <value>treepicker</value>
            </list>
        </property>
        <!--  search elements -->
        <!-- inheriting beans don't have the service - test level -->
        <property name="subjectService" ref="subjectService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="positionService" ref="positionService"/>


        <property name="organisationUnitService" ref="organisationUnitService"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.utils.tree.TreeWrapperBean"/>
        <property name="leafIcon" value="position.gif"/>
    </bean>

    <bean id="positionHolderPickerController" parent="positionPickerController">
        <property name="displayAssociation" value="true"/>
    </bean>

    <bean id="positionPrimaryAssociationPickerController" parent="positionPickerController" class="com.zynap.talentstudio.web.utils.tree.PositionPrimaryAssociationPickerController">
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="displayAssociation" value="true"/>
    </bean>

    <bean id="subjectPickerController" parent="positionPickerController" class="com.zynap.talentstudio.web.utils.tree.SubjectPickerController">
        <property name="leafIcon" value="people.gif"/>
        <property name="securityManager" ref="securityManager"/>
    </bean>

    <bean id="subjectUserPickerController" parent="subjectPickerController" class="com.zynap.talentstudio.web.utils.tree.SubjectUserPickerController">
        <property name="userService" ref="userService"/>
    </bean>

    <bean id="userPickerController" class="com.zynap.talentstudio.web.utils.tree.UserPickerController">
        <property name="pages">
            <list>
                <value>treepicker</value>
            </list>
        </property>
        <property name="leafIcon" value="people.gif"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.utils.tree.TreeWrapperBean"/>
        <property name="userService" ref="userService"/>
    </bean>

    <!--################################# Performance Review Controllers #################################-->

    <bean id="performanceReviewMultiController" class="com.zynap.talentstudio.web.perfomance.PerformanceReviewMultiController">
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/perfman/listperformancereviews.htm">listReviewsHandler</prop>
                        <prop key="/perfman/viewcompleteperformancereview.htm">completeReviewHandler</prop>
                        <prop key="/perfman/viewreopenperformancereview.htm">reopenNotificationHandler</prop>
                        <prop key="/perfman/viewcompletenotificationreview.htm">completeNotificationHandler</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="performanceReviewService" ref="performanceReviewService"/>
        <property name="workflowAdapter" ref="workFlowAdapter"/>
    </bean>

    <bean id="addPerformanceReviewController" class="com.zynap.talentstudio.web.perfomance.AddPerformanceReviewController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="addperformancereview"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.perfomance.PerformanceReviewWrapper"/>
        <property name="performanceReviewService" ref="performanceReviewService"/>
        <property name="questionnaireDefinitionService" ref="questionnaireDefinitionService"/>
        <property name="userService" ref="userService"/>
        <property name="analysisService" ref="analysisService"/>
        <property name="validator" ref="performanceReviewValidator"/>
        <property name="cancelView" value="listperformancereviews.htm"/>
        <property name="successView" value="listperformancereviews.htm"/>
        <property name="mailNotification" ref="managerAppraisalMailNotification"/>
    </bean>

    <bean id="viewPerformanceReviewController" class="com.zynap.talentstudio.web.perfomance.ViewPerformanceReviewController">
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.performance.PerformanceReview"/>
        <property name="formView" value="viewperformancereview"/>
        <property name="performanceReviewService" ref="performanceReviewService"/>
    </bean>

    <bean id="deletePerformanceReviewController" class="com.zynap.talentstudio.web.perfomance.DeletePerformanceReviewController">
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.performance.PerformanceReview"/>
        <property name="formView" value="confirmdeleteperformancereview"/>
        <property name="successView" value="listperformancereviews.htm"/>
        <property name="cancelView" value="viewperformancereview.htm"/>
        <property name="performanceReviewService" ref="performanceReviewService"/>
    </bean>

    <bean id="reportingChartPreferencesFactory" class="com.zynap.talentstudio.preferences.PreferencesFactory">
        <property name="preferencesManager" ref="prefManager"/>
        <property name="defaultPreference" ref="reportingChartPreferences"/>
    </bean>

    <bean id="arenaMenuHandler" class="com.zynap.talentstudio.arenas.ArenaMenuHandler">
        <property name="arenaManager" ref="arenaManager"/>
    </bean>

    <!-- ################################# Objectives Controllers ################################# -->

    <!-- ########## CORPORATE OBJECTIVES ########## -->

    <bean id="listCorporateObjectives" class="com.zynap.talentstudio.web.objectives.ListCorporateObjectivesController">
        <property name="sessionForm" value="true"/>
        <property name="formView" value="listcorporateobjectives"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.objectives.CorporateObjectivesFormBean"/>
        <property name="objectiveService" ref="objectiveService"/>
    </bean>

    <bean id="viewCorporateObjectives" class="com.zynap.talentstudio.web.objectives.ViewCorporateObjectiveController">
        <property name="objectiveService" ref="objectiveService"/>
        <property name="pageView" value="viewcorporateobjectives"/>
    </bean>

    <bean id="addCorporateObjectiveController" class="com.zynap.talentstudio.web.objectives.AddCorporateObjectiveController">
        <property name="pages">
            <list>
                <value>addcorporateobjectives</value>
                <value>addcorporateobjectives</value>
                <value>addcorporateobjectives</value>
                <value>addcorporateobjectives</value>
            </list>
        </property>
        <property name="cancelView" value="listcorporateobjectives.htm"/>
        <property name="successView" value="listcorporateobjectives.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.objectives.CorporateObjectivesFormBean"/>
        <property name="validator" ref="objectiveSetValidator"/>
        <property name="objectiveService" ref="objectiveService"/>
    </bean>

    <bean id="editCorporateObjectiveController" class="com.zynap.talentstudio.web.objectives.EditCorporateObjectiveController" parent="addCorporateObjectiveController">
        <property name="pages">
            <list>
                <value>editcorporateobjectives</value>
                <value>editcorporateobjectives</value>
                <value>editcorporateobjectives</value>
                <value>editcorporateobjectives</value>
            </list>
        </property>
    </bean>

    <!-- common objectives tasks -->
    <bean id="multiObjectivesController" class="com.zynap.talentstudio.web.objectives.ObjectivesMultiController">
        <property name="methodNameResolver">
            <bean id="objectivesMultiMethodNameResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/admin/publishcorporateobjectives.htm">publishCorporateObjectiveSet</prop>
                        <prop key="/admin/deletecorporateobjectives.htm">deleteCorporateObjectiveSet</prop>
                        <prop key="/admin/archivecorporateobjectives.htm">archiveCorporateObjectiveSet</prop>
                        <prop key="/admin/vieworganisationobjectives.htm">viewOrganisationObjectives</prop>
                        <prop key="/admin/deleteorganisationobjectives.htm">deleteOrganisationObjectiveSet</prop>
                        <prop key="/admin/approveorganisationobjectives.htm">approveOrganisationObjectiveSet</prop>
                        <prop key="/talentarena/worklistarchiveobjectives.htm">archiveSubjectObjectiveSet</prop>
                        <prop key="/talentarena/worklistreopenobjectives.htm">reopenSubjectObjectiveSet</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="objectiveService" ref="objectiveService"/>
    </bean>

    <!-- ########### STAFF OBJECTIVES ########### -->
    <bean id="editObjectivesController" class="com.zynap.talentstudio.web.objectives.DefaultObjectivesController">
        <property name="pages">
            <list>
                <value>worklisteditobjectives</value>
                <value>worklisteditobjectives</value>
                <value>worklisteditobjectives</value>
                <value>worklisteditobjectives</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.objectives.ObjectiveSetFormBean"/>
        <property name="validator" ref="objectiveValidator"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="objectiveService" ref="objectiveService"/>
        <property name="dynamicAttributeService" ref="dynamicAttrService"/>
        <property name="cancelView" value="viewmyteam.htm"/>
        <property name="successView" value="viewmyteam.htm"/>
        <property name="personnalObjectives" value="false"/>
        <property name="mailNotification" ref="staffGoalReviewedNotification"/>
    </bean>

    <bean id="addObjectivesController" class="com.zynap.talentstudio.web.objectives.AddObjectivesController" parent="editObjectivesController">
        <property name="pages">
            <list>
                <value>worklistaddobjectives</value>
                <value>worklistaddobjectives</value>
                <value>worklistaddobjectives</value>
                <value>worklistaddobjectives</value>
            </list>
        </property>
    </bean>

    <bean id="viewObjectivesController" class="com.zynap.talentstudio.web.objectives.ViewObjectivesController" parent="editObjectivesController">
        <property name="pages">
            <list>
                <value>worklistviewobjectives</value>
                <value>worklistviewobjectives</value>
                <value>worklistviewobjectives</value>
                <value>worklistviewobjectives</value>
                <value>worklistviewobjectives</value>
            </list>
        </property>
        <property name="mailNotification" ref="staffGoalAssessedNotification"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="personnalObjectives" value="false"/>
    </bean>

    <bean id="viewObjectiveController" class="com.zynap.talentstudio.web.objectives.ViewObjectiveController">
        <property name="sessionForm" value="true"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.objectives.ObjectiveWrapperBean"/>
        <property name="formView" value="worklistviewobjective"/>
        <property name="objectiveService" ref="objectiveService"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="lookupManager" ref="lookupManager"/>
        <property name="mailNotification" ref="staffGoalAssessedNotification"/>
        <property name="personnalObjectives" value="false"/>
    </bean>

    <!-- ########## PERSONAL OBJECTIVES ########## -->
    <bean id="addMyObjectivesController" class="com.zynap.talentstudio.web.objectives.AddMyObjectivesController" parent="addObjectivesController">
        <property name="pages">
            <list>
                <value>addmyobjectives</value>
                <value>addmyobjectives</value>
                <value>addmyobjectives</value>
                <value>addmyobjectives</value>
            </list>
        </property>
        <property name="cancelView" value="viewmyobjective.htm"/>
        <property name="successView" value="viewmyobjective.htm"/>
        <property name="personnalObjectives" value="true"/>
        <property name="mailNotification" ref="managerGoalReviewNotification"/>
    </bean>

    <bean id="editMyObjectivesController" class="com.zynap.talentstudio.web.objectives.EditMyObjectivesController" parent="editObjectivesController">
        <property name="pages">
            <list>
                <value>editmyobjectives</value>
                <value>editmyobjectives</value>
                <value>editmyobjectives</value>
                <value>editmyobjectives</value>
            </list>
        </property>
        <property name="cancelView" value="viewmyobjective.htm"/>
        <property name="successView" value="viewmyobjective.htm"/>
        <property name="personnalObjectives" value="true"/>
        <property name="mailNotification" ref="managerGoalReviewNotification"/>
    </bean>

    <bean id="viewMyObjectivesController" parent="viewObjectivesController">
        <property name="pages">
            <list>
                <value>viewmyobjectives</value>
                <value>viewmyobjectives</value>
                <value>viewmyobjectives</value>
                <value>viewmyobjectives</value>
                <value>viewmyobjectives</value>
            </list>
        </property>
        <property name="mailNotification" ref="managerGoalAssessedNotification"/>
        <property name="personnalObjectives" value="true"/>
    </bean>

    <bean id="viewMyObjectiveController" class="com.zynap.talentstudio.web.objectives.ViewObjectiveController" parent="viewObjectiveController">
        <property name="formView" value="viewmyobjective"/>
        <property name="personnalObjectives" value="true"/>
    </bean>

    <!-- ########### SUBJECT OBJECTIVES VIEWABLE WHEN BROWSING THE ORGANISATION ########### -->
    <!-- these objectives do not support editing or sending email -->
    <bean id="viewSubjectObjectivesController" class="com.zynap.talentstudio.web.objectives.ViewSubjectObjectivesController" parent="viewObjectivesController">
        <property name="pages">
            <list>
                <value>viewsubjectobjectives</value>
                <value>viewsubjectobjectives</value>
                <value>viewsubjectobjectives</value>
                <value>viewsubjectobjectives</value>
                <value>viewsubjectobjectives</value>
            </list>
        </property>
        <property name="subjectService" ref="subjectService"/>
    </bean>

    <bean id="viewSubjectObjectiveController" class="com.zynap.talentstudio.web.objectives.ViewObjectiveController" parent="viewObjectiveController">
        <property name="formView" value="viewsubjectobjective"/>
    </bean>

    <!-- ########## ORGANISATION OBJECTIVES ########## -->
    <bean id="listOrganisationObjectivesController" class="com.zynap.talentstudio.web.objectives.ListOrgUnitObjectivesController">
        <property name="pages">
            <list>
                <value>listorgunitobjectives</value>
                <value>listorgunitobjectives</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.objectives.ObjectiveSetFormBean"/>
        <property name="subjectService" ref="subjectService"/>
        <property name="organisationUnitService" ref="organisationUnitService"/>
        <property name="objectiveService" ref="objectiveService"/>
    </bean>

    <bean id="addOrganisationObjectivesController" class="com.zynap.talentstudio.web.objectives.BaseOrgUnitObjectiveController">
        <property name="pages">
            <list>
                <value>addorganisationobjectives</value>
                <value>addorganisationobjectives</value>
                <value>addorganisationobjectives</value>
                <value>addorganisationobjectives</value>
            </list>
        </property>
        <property name="commandClass" value="com.zynap.talentstudio.web.objectives.ObjectiveSetFormBean"/>
        <property name="validator" ref="objectiveValidator"/>
        <property name="organisationUnitService" ref="organisationUnitService"/>
        <property name="objectiveService" ref="objectiveService"/>
    </bean>

    <bean id="editOrganisationObjectivesController" parent="addOrganisationObjectivesController">
        <property name="pages">
            <list>
                <value>editorganisationobjectives</value>
                <value>editorganisationobjectives</value>
                <value>editorganisationobjectives</value>
                <value>editorganisationobjectives</value>
            </list>
        </property>
    </bean>

    <!-- ###################################### DASHBOARD BUILDER ########################################### -->
    <bean id="dashboardMultiController" class="com.zynap.talentstudio.web.dashboard.DashboardMultiController">
        <property name="methodNameResolver">
            <bean id="dashboardMultiMethodNameResolver" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
                <property name="mappings">
                    <props>
                        <prop key="/admin/listdashboards.htm">listDashboards</prop>
                        <prop key="/admin/viewdashboard.htm">viewDashboard</prop>
                        <prop key="/admin/deletedashboard.htm">deleteDashboard</prop>
                        <prop key="/admin/viewitemdashboard.htm">viewDashboardItem</prop>
                    </props>
                </property>
            </bean>
        </property>
        <property name="dashboardService" ref="dashboardService"/>
        <property name="reportService" ref="reportService"/>
    </bean>

    <bean id="addDashboardController" class="com.zynap.talentstudio.web.dashboard.DashboardBuilderController">
        <property name="type" value="PERSON"/>
        <property name="sessionForm" value="true"/>
        <property name="formView" value="adddashboard"/>
        <property name="successView" value="viewdashboard.htm"/>
        <property name="cancelView" value="listdashboards.htm"/>
        <property name="commandClass" value="com.zynap.talentstudio.web.dashboard.DashboardBuilderWrapper"/>
        <property name="validator" ref="dashboardBuilderValidator"/>
        <property name="dashboardService" ref="dashboardService"/>
        <property name="reportService" ref="reportService"/>
        <property name="analysisService" ref="analysisService"/>
        <property name="groupService" ref="groupService"/>
        <property name="roleManager" ref="roleManager"/>
    </bean>

    <bean id="addPersonalDashboardController" parent="addDashboardController">
        <property name="type" value="PERSONAL"/>
    </bean>

    <bean id="editDashboardController" parent="addDashboardController">
        <property name="formView" value="editdashboard"/>
        <property name="successView" value="viewdashboard.htm"/>
        <property name="cancelView" value="viewdashboard.htm"/>
    </bean>

</beans>
