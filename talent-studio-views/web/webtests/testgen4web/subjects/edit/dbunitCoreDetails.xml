<?xml version='1.0' encoding='UTF-8'?>
<tg4w version="0.38.2">
    <actions>
        <action type="goto" refresh="true" step="0">
            <xpath><![CDATA[window.location.href]]></xpath>
            <value><![CDATA[http://localhost:8888/talent-studio/orgbuilder/browsesubject.htm?navigator.organisationUnitLabel=Led+Zeppelin&navigator.organisationUnitId=16&navigator.notSubmit=false&menu_p=]]></value>
        </action>
        <action type="verify-title" step="1">
            <xpath><![CDATA[*]]></xpath>
            <value><![CDATA[Talent Studio - Browse People]]></value>
        </action>

        <!-- check that title and pref given name are not set -->
        <action type="assert-text-exists" step="2">
            <xpath><![CDATA[*]]></xpath>
            <value><![CDATA[Summary of John Bonham]]></value>
        </action>
        <action type="assert-text-does-not-exist" step="3">
            <xpath><![CDATA[*]]></xpath>
            <value><![CDATA[Mr]]></value>
        </action>
        <action type="assert-text-does-not-exist" step="4">
            <xpath><![CDATA[*]]></xpath>
            <value><![CDATA[Jonny]]></value>
        </action>

        <!-- click on edit details button -->
        <action type="click" refresh="true" step="5">
            <xpath><![CDATA[*/FORM[@ID="details_frm"]/INPUT[@ID="btn_details"]]]></xpath>
            <value><![CDATA[details_frm]]></value>
        </action>
        <action type="verify-title" step="6">
            <xpath><![CDATA[*]]></xpath>
            <value><![CDATA[Talent Studio - Edit Person]]></value>
        </action>

        <!-- set title and clear first name and last name and save - will not save due to validation -->
        <action type="select" step="7">
            <xpath><![CDATA[*/FORM[@ID="addsubda"]/*/SELECT[@NAME="coreDetail.title"]]]></xpath>
            <value><![CDATA[Mr]]></value>
        </action>
        <action type="fill" step="8">
            <xpath><![CDATA[*/FORM[@ID="addsubda"]/*/INPUT[@TYPE="text" and @NAME="coreDetail.firstName"]]]></xpath>
            <value><![CDATA[]]></value>
        </action>
        <action type="fill" step="9">
            <xpath><![CDATA[*/FORM[@ID="addsubda"]/*/INPUT[@TYPE="text" and @NAME="coreDetail.secondName"]]]></xpath>
            <value><![CDATA[]]></value>
        </action>
        <action type="click" refresh="true" step="10">
            <xpath><![CDATA[*/FORM[@ID="addsubda"]/*/INPUT[@NAME="_edit" and @VALUE="Save"]]]></xpath>
            <value><![CDATA[_edit]]></value>
        </action>
        <action type="verify-title" step="11">
            <xpath><![CDATA[*]]></xpath>
            <value><![CDATA[Talent Studio - Edit Person]]></value>
        </action>

        <!-- set first name, last name and pref given name and save -->
        <action type="fill" step="12">
            <xpath><![CDATA[*/FORM[@ID="addsubda"]/*/INPUT[@TYPE="text" and @NAME="coreDetail.firstName"]]]></xpath>
            <value><![CDATA[John]]></value>
        </action>
        <action type="fill" step="13">
            <xpath><![CDATA[*/FORM[@ID="addsubda"]/*/INPUT[@TYPE="text" and @NAME="coreDetail.secondName"]]]></xpath>
            <value><![CDATA[Bonham]]></value>
        </action>
        <action type="fill" step="14">
            <xpath><![CDATA[*/FORM[@ID="addsubda"]/*/INPUT[@TYPE="text" and @NAME="coreDetail.prefGivenName"]]]></xpath>
            <value><![CDATA[Jonny]]></value>
        </action>
        <action type="click" refresh="true" step="15">
            <xpath><![CDATA[*/FORM[@ID="addsubda"]/*/INPUT[@NAME="_edit" and @VALUE="Save"]]]></xpath>
            <value><![CDATA[_edit]]></value>
        </action>

        <!-- verify title and pref given name displayed in browse view -->
        <action type="verify-title" step="16">
            <xpath><![CDATA[*]]></xpath>
            <value><![CDATA[Talent Studio - Browse People]]></value>
        </action>
        <action type="assert-text-exists" step="17">
            <xpath><![CDATA[*]]></xpath>
            <value><![CDATA[Jonny]]></value>
        </action>
        <action type="assert-text-exists" step="18">
            <xpath><![CDATA[*]]></xpath>
            <value><![CDATA[Mr]]></value>
        </action>
    </actions>
</tg4w>